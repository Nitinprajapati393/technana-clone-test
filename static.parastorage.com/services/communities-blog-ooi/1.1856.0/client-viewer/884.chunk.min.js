(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[884],{89049:(t,e,a)=>{"use strict";a.d(e,{A:()=>kt});var i={};a.r(i),a.d(i,{debounce:()=>g,get:()=>y,isEqual:()=>P,isFunction:()=>_,isNumber:()=>f,pick:()=>p,throttle:()=>d});var r=a(94763),s=a(35579),o=a(41771),n=a(7445);class l{constructor(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.scrollDirection=t.scrollDirection,this.targetItemSize=t.targetItemSize,this.container=t.container}addGroup(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,t.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio}markAsIncomplete(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1}canRemainIncomplete(){return!(this.groupsPerStrip>0)&&1.5*this.targetItemSize<this.height}setWidth(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)}resizeToHeight(t){this.height=t;let e=0,a=0;for(const i of this.groups)i.setLeft(e),i.width+=a,i.resizeToHeight(t),a=i.width,i.round(),a-=i.width,e+=i.width}isFull(t,e){if(!this.hasGroups)return!1;const{groupsPerStrip:a,scrollDirection:i,targetItemSize:r}=this;if(a>0)return this.groups.length>=a;const{galleryWidth:s}=this.container;let o;if("HORIZONTAL"===i)o=!1;else{const a=s/(this.ratio+t.ratio)-r,i=s/this.ratio-r;o=!isNaN(a)&&!isNaN(i)&&(i<0||a<0&&Math.abs(i)<Math.abs(a)),o&&e&&(o=Number(Math.abs(i))<Math.abs(a))}return o}get hasGroups(){return this.groups.length>0}get lastGroup(){return this.groups[this.groups.length-1]}get scheme(){return{idx:this.idx,groups:this.groups.map((t=>t.scheme)),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}}}class u{constructor(t,e,a,i,r){this.idx=t,this.groups=[],this.height=0,this.width=e,this.left=a,this.cubedHeight=i,this.infoWidth=r||0}addGroup(t){this.addGroups([t])}addGroups(t){this.groups=this.groups.concat(t),t.forEach((t=>{t.columnIdx=this.idx,t.Column=this}))}get totalWidth(){return this.width+this.infoWidth}get scheme(){return{idx:this.idx,groups:this.groups.map((t=>t.scheme)),width:this.width,height:this.height}}}const h=new class{set layout(t){this._layout=Object.assign({},t)}get layout(){return this._layout}};var m=a(29951);class c{constructor(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}updateParams(t){this.srcItems=t.items,this.styleParams=s.W.addDefaultStyleParams(t.styleParams),this.container=s.W.convertContainer(t.container,this.styleParams);const e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.useLayoutStore=!!e.useLayoutStore}verifyGalleryState(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")}calcNumberOfColumns(t,e){let a=1;if("VERTICAL"===this.styleParams[m.A.layoutParams.structure.layoutOrientation])if(this.styleParams.fixedColumns>0)a=this.styleParams.fixedColumns;else{const i=t/e,r=[Math.floor,Math.ceil],s=r.map((t=>t(i))).map((e=>Math.round(t/e))).map((t=>Math.abs(e-t)));a=(0,r[s.indexOf(Math.min(...s))])(i)||1}else a=1;return a}findShortestColumn(t,e){let a=t[0];if("LEFT_TO_RIGHT"===this.styleParams[m.A.layoutParams.structure.groupsOrder])a=t[e%t.length];else{let e=-1;for(const i of t){const t=i.height;(t<e||e<0)&&(e=t,a=i)}}return a}saveExistingLayout(){this.useLayoutStore&&(h.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})}prepareLayoutParams(){if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,h.layout);else if("VERTICAL"===this.styleParams[m.A.layoutParams.structure.layoutOrientation]){this.groups.slice(-3).forEach((t=>{const e=this.columns[t.columnIdx];e&&(e.height-=t.totalHeight,e.groups.splice(-1,1)),this.groups.splice(-1,1),t.realItems.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--}))}else{if("HORIZONTAL"===this.scrollDirection){this.groups.slice(-1).forEach((t=>{const e=this.columns[0];e&&e.groups.splice(-1,1);const a=this.strips[0];a&&(a.setWidth(a.width-t.width),a.ratio=a.width/a.height,a.groups.splice(-1,1),this.strip=a),this.strips=[],this.groups.splice(-1,1),t.realItems.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--})),this.galleryHeight=0}else{const t=this.strips.slice(-2);t&&(t.forEach((t=>{if(t){this.strips.splice(-1,1);t.groups.forEach((t=>{this.groups.splice(-1,1),t.items.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--}))}})),this.galleryHeight=this.strips.reduce(((t,e)=>t+e.height),0),this.strip=new l({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams[m.A.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[m.A.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else{let t;t="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(t)+Math.ceil(2*(this.styleParams[m.A.layoutParams.structure.itemSpacing]/2-this.styleParams[m.A.layoutParams.structure.gallerySpacing]))}this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new l({idx:1,container:this.container,groupsPerStrip:this.styleParams[m.A.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[m.A.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize="VERTICAL"===this.styleParams[m.A.layoutParams.structure.layoutOrientation]?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;const{externalInfoWidth:t}=this.styleParams,e=this.styleParams[m.A.layoutParams.structure.columnRatios],a=this.styleParams[m.A.layoutParams.structure.itemSpacing],i=this.styleParams[m.A.layoutParams.crop.ratios];let r=!1;if(e&&e.length>0){for(r=e.map(Number);r.length<this.numOfCols;)r.push(...r);r=r.slice(0,this.numOfCols);const t=this.galleryWidth/r.reduce(((t,e)=>t+e),0);r=r.map((e=>Math.round(e*=t)))}let s,o=0,n=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map(((e,l)=>{let h=r?r[l]:Math.round(n/(this.numOfCols-l));const m=o;o+=h,n-=h;const c=Math.round(t>1?t:t*h)||0;return h-=c,s=s||(this.targetItemSize-c-a)/i[0]+a,new u(l,h,m,s,c)})),this.maxLoops=10*this.srcItems.length}}createLayout(t){for(void 0!==t&&this.updateParams(t),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new o.q({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new n.Y({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],"HORIZONTAL"===this.styleParams[m.A.layoutParams.structure.layoutOrientation]){if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new l({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams[m.A.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[m.A.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&("HORIZONTAL"===this.styleParams[m.A.layoutParams.structure.scrollDirection]?this.strip.height=this.container.galleryHeight+(this.styleParams[m.A.layoutParams.structure.itemSpacing]/2-this.styleParams[m.A.layoutParams.structure.gallerySpacing]):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}else{const t=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(t.cubedHeight),this.group.resizeToWidth(t.width),this.group.round(),this.group.setTop(t.height),this.group.setLeft(t.left),t.addGroup(this.group),t.height+=this.group.totalHeight,this.galleryHeight<t.height&&(this.galleryHeight=t.height)}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){const t=this.container.galleryHeight/this.galleryHeight;this.items.map((e=>(e.cubeImages=!0,e.cropRatio=e.ratio=e.width/(e.height*t),e.height*=t,e))),this.groups.map((e=>(e.height*=t,e.setTop(e.top*t),e.resizeItems(),e)))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams[m.A.layoutParams.structure.itemSpacing]/2-this.styleParams[m.A.layoutParams.structure.gallerySpacing]),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme}lastVisibleItemIdxInHeight(t){for(let e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1}lastVisibleItemIdx(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)}findNeighborItem(t,e){const a=this.layoutItems[t];let i;const r=(t,e,a)=>{let i,r,s,o=null,n={};return this.layoutItems.forEach((l=>{i=l.offset.top+l.height/2,r=l.offset.left+l.width/2,s=Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2)),(null===o||s>0&&s<o)&&a(t,e,r,i)&&(o=s,n=l)})),n};switch(e){case"up":i=r(a.offset.left+a.width/2,a.offset.top,((t,e,a,i)=>i<e));break;case"left":i=r(a.offset.left,a.offset.top+a.height/2,((t,e,a)=>a<t));break;case"down":i=r(a.offset.left+a.width/2,a.offset.bottom,((t,e,a,i)=>i>e));break;default:i=r(a.offset.right,a.offset.top+a.height/2,((t,e,a)=>a>t))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)}getMaxGroupSize(){let t=1;try{const e="string"==typeof this.styleParams[m.A.layoutParams.groups.allowedGroupTypes]&&this.styleParams[m.A.layoutParams.groups.allowedGroupTypes].length>0?this.styleParams[m.A.layoutParams.groups.allowedGroupTypes].split(","):this.styleParams[m.A.layoutParams.groups.allowedGroupTypes];t=e.length>0?e.reduce(((t,e)=>Math.max(t,parseInt(e))),1):Number(e),t=Math.min(t,this.styleParams[m.A.layoutParams.groups.groupSize])}catch(e){console.error("couldn't calculate max group size - returing 3 (?)",e),t=3}return t}get isLastImage(){return!this.srcItems[this.pointer+1]}get isLastImages(){return!this.srcItems[this.pointer+1]}get imagesLeft(){return this.srcItems.length-this.pointer-1}get items(){return this.layoutItems}get scheme(){return{items:this.items.map((t=>t.scheme)),groups:this.groups.map((t=>t.scheme)),strips:this.strips.map((t=>t.scheme)),columns:this.columns.map((t=>t.scheme)),height:this.height,width:this.width}}}const p=(t,e)=>{const a={};return Object.entries(t||{}).forEach((([t,i])=>{e.indexOf(t)>=0&&(a[t]=i)})),a},d=(t,e)=>{let a=!1,i=!1;return(...r)=>{a?i=!0:(i=!1,t.apply(void 0,r),a=!0,setTimeout((()=>{i&&t.apply(void 0,r),a=!1}),e))}},g=(t,e)=>{let a;return(...i)=>{clearTimeout(a),a=setTimeout((()=>{t.apply(void 0,i)}),e)}},y=(t,e,a)=>{const i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce(((t,e)=>null!=t?t[e]:t),t);return void 0===i||i===t?a:i},_=t=>"function"==typeof t,P=(t,e)=>{try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},f=t=>!isNaN(parseFloat(t))&&isFinite(t),T=()=>({}),I=2560,b=1440,E={y:0,x:0,width:I,height:b,innerWidth:I,innerHeight:b,outerWidth:I,outerHeight:b,clientWidth:I,clientHeight:b},O=Object.assign(Object.assign({},E),{getBoundingClientRect:()=>E}),A=Object.assign({addEventListener:T,removeEventListener:T,createEvent:T,getElementById:()=>O,getElementsByClassName:()=>[O],getElementsByTagName:()=>[O],querySelector:()=>[O],documentElement:O,activeElement:O,style:E},E);A.body=A;const S=Object.assign(Object.assign({},E),{scrollTop:0,scrollY:0}),L=Object.assign({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,addEventListener:T,removeEventListener:T,createEvent:T,CustomEvent:T,screen:E,open:T,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:T,requestAnimationFrame:T,dispatchEvent:T,document:A,getComputedStyle:T,localStorage:{},frames:[]},S),v=new Map(Object.keys(S).map((t=>[t,S[t]])));L.parent=L;const R=L;const w=(new class{constructor(){this.shouldUseMock=!0,this.initProxyWindow=this.initProxyWindow.bind(this),this.windowIsAvailable()?this.initProxyWindow():this.initMockWindow()}windowIsAvailable(){try{return"undefined"!=typeof window}catch(t){return!1}}initProxyWindow(){const t={get:function(t,e){return v.has(e)&&this.shouldUseMock?v.get(e):t[e]}.bind(this),set:function(t,e,a){return Reflect.set(t,e,a)}},e=new Proxy(window,t),a={get:function(t,a){return e.proGalleryCustomProps.has(a)||"function"!=typeof e[a]?e[a]:e[a].bind(window)},set:function(t,a,i){return e.proGalleryCustomProps.add(a),Reflect.set(e,a,i)}};e.proGalleryCustomProps||(e.proGalleryCustomProps=new Set),this.window=new Proxy({},a)}initMockWindow(){this.window=R,this.window.mockInstanceId=Math.floor(1e5*Math.random())}stopUsingMock(){this.shouldUseMock=!1}get shouldUseMock(){return this._shouldUseMock}set shouldUseMock(t){this._shouldUseMock=t}}).window,C={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"},M={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"};const D=new class{constructor(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setDeviceType=this.setDeviceType.bind(this),this.isDeviceTypeDesktop=this.isDeviceTypeDesktop.bind(this),this.isDeviceTypeMobile=this.isDeviceTypeMobile.bind(this),this.isDeviceTypeTablet=this.isDeviceTypeTablet.bind(this),this.isDeviceTypeTouch=this.isDeviceTypeTouch.bind(this),this._viewMode=C.SITE,this._deviceType=M.DESKTOP}setViewMode(t){this._viewMode=t}setDeviceType(t){this._deviceType=t}isDeviceTypeMobile(){return this._deviceType===M.MOBILE}isDeviceTypeTablet(){return this._deviceType===M.TABLET}isDeviceTypeDesktop(){return this._deviceType===M.DESKTOP}isDeviceTypeTouch(){return this.isDeviceTypeMobile()||this.isDeviceTypeTablet()}isSiteMode(){return this._viewMode===C.SITE}isEditMode(){return this._viewMode===C.EDIT}isPreviewMode(){return this._viewMode===C.PREVIEW}isSEOMode(){return this._viewMode===C.SEO}},x=(D.isSiteMode,D.isEditMode),G=D.isPreviewMode,N=(D.isSEOMode,D.isDeviceTypeMobile),F=(D.isDeviceTypeTablet,D.isDeviceTypeDesktop,D.isDeviceTypeTouch),H={layoutParams:{groups:{density:"layoutParams_groups_density",groupByOrientation:"layoutParams_groups_groupByOrientation",numberOfGroupsPerRow:"layoutParams_groups_numberOfGroupsPerRow",allowedGroupTypes:"layoutParams_groups_allowedGroupTypes",repeatingGroupTypes:"layoutParams_groups_repeatingGroupTypes",groupSize:"layoutParams_groups_groupSize"},crop:{method:"layoutParams_crop_method",alignment:"layoutParams_crop_alignment",enable:"layoutParams_crop_enable",enableSmartCrop:"layoutParams_crop_enableSmartCrop",cropOnlyFill:"layoutParams_crop_cropOnlyFill",ratios:"layoutParams_crop_ratios"},structure:{galleryLayout:"layoutParams_structure_galleryLayout",galleryRatio:{value:"layoutParams_structure_galleryRatio_value",includeExternalInfo:"layoutParams_structure_galleryRatio_includeExternalInfo"},enableStreching:"layoutParams_structure_enableStreching",gallerySpacing:"layoutParams_structure_gallerySpacing",itemSpacing:"layoutParams_structure_itemSpacing",scrollDirection:"layoutParams_structure_scrollDirection",numberOfColumns:"layoutParams_structure_numberOfColumns",numberOfGridRows:"layoutParams_structure_numberOfGridRows",responsiveMode:"layoutParams_structure_responsiveMode",columnRatios:"layoutParams_structure_columnRatios",scatter:{randomScatter:"layoutParams_structure_scatter_randomScatter",manualScatter:"layoutParams_structure_scatter_manualScatter"},layoutOrientation:"layoutParams_structure_layoutOrientation",groupsOrder:"layoutParams_structure_groupsOrder"},thumbnails:{enable:"layoutParams_thumbnails_enable",position:"layoutParams_thumbnails_position",spacing:"layoutParams_thumbnails_spacing",marginToGallery:"layoutParams_thumbnails_marginToGallery",size:"layoutParams_thumbnails_size",alignment:"layoutParams_thumbnails_alignment"},navigationArrows:{enable:"layoutParams_navigationArrows_enable",size:"layoutParams_navigationArrows_size",padding:"layoutParams_navigationArrows_padding",position:"layoutParams_navigationArrows_position",verticalAlignment:"layoutParams_navigationArrows_verticalAlignment",type:"layoutParams_navigationArrows_type",container:{type:"layoutParams_navigationArrows_container_type",borderRadius:"layoutParams_navigationArrows_container_borderRadius",backgroundColor:"layoutParams_navigationArrows_container_backgroundColor"},mouseCursorContainerMaxWidth:"layoutParams_navigationArrows_mouseCursorContainerMaxWidth"},info:{sizeUnits:"layoutParams_info_sizeUnits",width:"layoutParams_info_width",height:"layoutParams_info_height",spacing:"layoutParams_info_spacing",layout:"layoutParams_info_layout",border:{width:"layoutParams_info_border_width",color:"layoutParams_info_border_color",radius:"layoutParams_info_border_radius"},placement:"layoutParams_info_placement"},targetItemSize:{unit:"layoutParams_targetItemSize_unit",value:"layoutParams_targetItemSize_value",minimum:"layoutParams_targetItemSize_minimum"}},behaviourParams:{item:{clickAction:"behaviourParams_item_clickAction",video:{speed:"behaviourParams_item_video_speed",volume:"behaviourParams_item_video_volume",loop:"behaviourParams_item_video_loop",playTrigger:"behaviourParams_item_video_playTrigger",enablePlayButton:"behaviourParams_item_video_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_video_enableThumbnailsPlayButton",enableControls:"behaviourParams_item_video_enableControls",enablePlaceholder:"behaviourParams_item_video_enablePlaceholder"},threeDimensionalScene:{transform:{rotation:"behaviourParams_item_threeDimensionalScene_transform_rotation",scale:"behaviourParams_item_threeDimensionalScene_transform_scale",position:"behaviourParams_item_threeDimensionalScene_transform_position"},controls:{enableZoom:"behaviourParams_item_threeDimensionalScene_controls_enableZoom",enableRotate:"behaviourParams_item_threeDimensionalScene_controls_enableRotate",enablePan:"behaviourParams_item_threeDimensionalScene_controls_enablePan",enableAutoRotate:"behaviourParams_item_threeDimensionalScene_controls_enableAutoRotate"},enablePlayButton:"behaviourParams_item_threeDimensionalScene_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_threeDimensionalScene_enableThumbnailsPlayButton",playTrigger:"behaviourParams_item_threeDimensionalScene_playTrigger"},overlay:{hoveringBehaviour:"behaviourParams_item_overlay_hoveringBehaviour",hoverAnimation:"behaviourParams_item_overlay_hoverAnimation",position:"behaviourParams_item_overlay_position",size:"behaviourParams_item_overlay_size",sizeUnits:"behaviourParams_item_overlay_sizeUnits",padding:"behaviourParams_item_overlay_padding",backgroundColor:"behaviourParams_item_overlay_backgroundColor"},content:{hoverAnimation:"behaviourParams_item_content_hoverAnimation",placementAnimation:"behaviourParams_item_content_placementAnimation",loader:"behaviourParams_item_content_loader",magnificationValue:"behaviourParams_item_content_magnificationValue",tiltAngleValue:"behaviourParams_item_content_tiltAngleValue"},secondaryMedia:{trigger:"behaviourParams_item_secondaryMedia_trigger",behaviour:"behaviourParams_item_secondaryMedia_behaviour"}},gallery:{layoutDirection:"behaviourParams_gallery_layoutDirection",blockContextMenu:"behaviourParams_gallery_blockContextMenu",scrollAnimation:"behaviourParams_gallery_scrollAnimation",enableIndexingShareLinks:"behaviourParams_gallery_enableIndexingShareLinks",vertical:{loadMore:{enable:"behaviourParams_gallery_vertical_loadMore_enable",amount:"behaviourParams_gallery_vertical_loadMore_amount",text:"behaviourParams_gallery_vertical_loadMore_text"}},horizontal:{enableScrollSnap:"behaviourParams_gallery_horizontal_enableScrollSnap",slideAnimation:"behaviourParams_gallery_horizontal_slideAnimation",slideTransition:"behaviourParams_gallery_horizontal_slideTransition",blockScroll:"behaviourParams_gallery_horizontal_blockScroll",navigationDuration:"behaviourParams_gallery_horizontal_navigationDuration",loop:"behaviourParams_gallery_horizontal_loop",autoSlide:{behaviour:"behaviourParams_gallery_horizontal_autoSlide_behaviour",interval:"behaviourParams_gallery_horizontal_autoSlide_interval",pauseOnHover:"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",speed:"behaviourParams_gallery_horizontal_autoSlide_speed"},slideshowInfo:{buttonsAlignment:"behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",enableCounter:"behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",enablePlayButton:"behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"}}}},stylingParams:{arrowsColor:"stylingParams_arrowsColor",itemShadowBlur:"stylingParams_itemShadowBlur",itemShadowDirection:"stylingParams_itemShadowDirection",itemShadowOpacityAndColor:"stylingParams_itemShadowOpacityAndColor",itemShadowSize:"stylingParams_itemShadowSize",itemEnableShadow:"stylingParams_itemEnableShadow",itemBorderRadius:"stylingParams_itemBorderRadius",itemBorderWidth:"stylingParams_itemBorderWidth",itemBorderColor:"stylingParams_itemBorderColor",itemResolutionMode:"stylingParams_itemResolutionMode"}},U={JSON_FIXED:-3,DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12},z={OVERLAY:"OVERLAY",ABOVE:"ABOVE",BELOW:"BELOW",LEFT:"LEFT",RIGHT:"RIGHT",ALTERNATE_HORIZONTALLY:"ALTERNATE_HORIZONTALLY",ALTERNATE_VERTICALLY:"ALTERNATE_VERTICALLY"},k=t=>String(t).includes(z.OVERLAY),B=(t,e)=>String(t).includes(z.ABOVE)||e%2==0&&String(t).includes(z.ALTERNATE_VERTICALLY),W=(t,e)=>String(t).includes(z.BELOW)||e%2==1&&String(t).includes(z.ALTERNATE_VERTICALLY),V=(t,e)=>String(t).includes(z.RIGHT)||e%2==0&&String(t).includes(z.ALTERNATE_HORIZONTALLY),j=(t,e)=>String(t).includes(z.LEFT)||e%2==1&&String(t).includes(z.ALTERNATE_HORIZONTALLY),Y=t=>B(t,0)||W(t,1),Z=t=>V(t,0)||j(t,1),q=t=>String(t)===z.ABOVE,$=t=>String(t)===z.BELOW,K=t=>String(t)===z.OVERLAY,X=t=>{const e=t.split(","),a=e.shift();return(t=>q(t)||$(t))(a)&&e.every((t=>t===a))},J={HOVER:"HOVER",AUTO:"AUTO",CLICK:"CLICK"},Q={events:{APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PAUSED:"VIDEO_PAUSED",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS",GALLERY_SCROLLED:"GALLERY_SCROLLED",NAVIGATION_API_READY:"NAVIGATION_API_READY",GALLERY_NAVIGATION_START:"GALLERY_NAVIGATION_START"},deviceType:M,isLayout:t=>e=>e[H.layoutParams.structure.galleryLayout]===U[t],hasExternalAbovePlacement:B,hasExternalBelowPlacement:W,hasHoverPlacement:k,hasExternalRightPlacement:V,hasExternalLeftPlacement:j,hasExternalVerticalPlacement:Y,hasExternalHorizontalPlacement:Z,isExternalAbovePlacement:q,isExternalBelowPlacement:$,isHoverPlacement:K,isExternalRightPlacement:t=>String(t)===z.RIGHT,isExternalLeftPlacement:t=>String(t)===z.LEFT,isExternalVerticalPlacement:t=>Y(t)&&!Z(t)&&!k(t),isExternalHorizontalPlacement:t=>Z(t)&&!Y(t)&&!k(t),isConstantVerticalPlacement:X,resizeMethods:{FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"},socialNetworks:{FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},urlSizes:{RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample",MAGNIFIED:"magnified"},urlTypes:{HIGH_RES:"img",LOW_RES:"thumb",VIDEO:"video",THREE_D:"3d"},viewMode:C,layoutParams_crop_method:{FILL:"FILL",FIT:"FIT",MIN:"MIN",MAX:"MAX"},layoutParams_crop_alignment:{CENTER:"CENTER",TOP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM"},layoutParams_structure_galleryLayout:U,layoutParams_structure_groupsOrder:{BY_HEIGHT:"BY_HEIGHT",LEFT_TO_RIGHT:"LEFT_TO_RIGHT"},layoutParams_structure_layoutOrientation:{VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"},layoutParams_structure_responsiveMode:{FIT_TO_SCREEN:"FIT_TO_SCREEN",SET_ITEMS_PER_ROW:"SET_ITEMS_PER_ROW"},layoutParams_structure_scrollDirection:{VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"},layoutParams_groups_allowedGroupTypes:{1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},layoutParams_thumbnails_alignment:{BOTTOM:"BOTTOM",LEFT:"LEFT",TOP:"TOP",RIGHT:"RIGHT"},layoutParams_navigationArrows_verticalAlignment:{ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"},layoutParams_navigationArrows_position:{ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY",MOUSE_CURSOR:"MOUSE_CURSOR"},layoutParams_navigationArrows_type:{DEFAULT_ARROW:"DEFAULT_ARROW",ARROW_2:"ARROW_2",ARROW_3:"ARROW_3",ARROW_4:"ARROW_4",ARROW_5:"ARROW_5",ARROW_6:"ARROW_6",ARROW_7:"ARROW_7"},layoutParams_navigationArrows_container_type:{NONE:"NONE",SHADOW:"SHADOW",BOX:"BOX"},layoutParams_info_layout:{NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"},layoutParams_info_sizeUnits:{PERCENT:"PERCENT",PIXEL:"PIXEL"},layoutParams_info_placement:z,layoutParams_targetItemSize_unit:{SMART:"SMART",PIXEL:"PIXEL",PERCENT:"PERCENT"},behaviourParams_item_clickAction:{ACTION:"ACTION",LINK:"LINK",NOTHING:"NOTHING",MAGNIFY:"MAGNIFY"},behaviourParams_item_video_playTrigger:J,behaviourParams_item_overlay_hoveringBehaviour:{APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",ALWAYS_SHOW:"ALWAYS_SHOW",NEVER_SHOW:"NEVER_SHOW"},behaviourParams_item_overlay_hoverAnimation:{NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT",SLIDE_DOWN:"SLIDE_DOWN",SLIDE_LEFT:"SLIDE_LEFT"},behaviourParams_item_overlay_position:{LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",TOP:"TOP",CENTERED_VERTICALLY:"CENTERED_VERTICALLY",CENTERED_HORIZONTALLY:"CENTERED_HORIZONTALLY"},behaviourParams_item_overlay_sizeUnits:{PIXEL:"PIXEL",PERCENT:"PERCENT"},behaviourParams_item_content_hoverAnimation:{NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",TILT:"TILT",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED",MAIN_COLOR:"MAIN_COLOR"},behaviourParams_item_content_placementAnimation:{NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"},behaviourParams_item_content_loader:{BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"},behaviourParams_item_secondaryMedia_trigger:{OFF:"OFF",HOVER:"HOVER"},behaviourParams_item_secondaryMedia_behaviour:{APPEARS:"APPEARS"},behaviourParams_gallery_layoutDirection:{LEFT_TO_RIGHT:"LEFT_TO_RIGHT",RIGHT_TO_LEFT:"RIGHT_TO_LEFT"},behaviourParams_gallery_scrollAnimation:{NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},behaviourParams_gallery_vertical_loadMore_amount:{PARTIAL:"PARTIAL",ALL:"ALL"},behaviourParams_gallery_horizontal_slideAnimation:{SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"},behaviourParams_gallery_horizontal_slideTransition:{EASE:"cubic-bezier(0.46,0.1,0.25,1)"},behaviourParams_gallery_horizontal_autoSlide_behaviour:{OFF:"OFF",INTERVAL:"INTERVAL",CONTINUOUS:"CONTINUOUS"},behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment:{LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"},behaviourParams_item_threeDimensionalScene_playTrigger:J,parse3DDimensions:t=>({x:parseFloat(t.split("x")[1].split("y")[0]),y:parseFloat(t.split("y")[1].split("z")[0]),z:parseFloat(t.split("z")[1])}),stylingParams_itemResolutionMode:{FULL:"FULL",SCALED_DOWN:"SCALED_DOWN"},layoutParams_thumbnails_position:{ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY"}};const tt=new class{constructor(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}shouldUseCache(){return!x()&&!G()&&!this.isSSR()}isUndefined(t){return void 0===t}uniqueBy(t,e){return t.filter(((t,a,i)=>i.map((t=>t[e])).indexOf(t[e])===a))}inRange(t,e,a=e){if(0===e)return-1;for(;t<0;)t+=e;for(;t>a;)t-=e;return t}sliceArrayWithRange(t,e,a){return Array(a-e).fill(0).map(((a,i)=>{const r=e+i;return t[this.inRange(r,t.length,t.length-1)]}))}sliceArrayIfAvailable(t,e,a){let i=Math.max(e,0),r=Math.min(a,t.length);return i>e&&(r=Math.min(r+(i-e),t.length)),r<a&&(i=Math.max(i-(a-r),0)),this.sliceArrayWithRange(t,i,r)}dumpCache(){this._cache={}}getOrPutFromCache(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()}hashToInt(t,e,a){let i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(a)?this._hash2int[t]:this._hash2int[t]%(a-e+1)+e}parseGetParam(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];let a="",i=[],r=location;if(e&&(r={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),r.search.substr(1).split("&").forEach((e=>{i=e.split("="),i[0]===t&&(a=decodeURIComponent(i[1]))})),!a){const e=decodeURIComponent(r.pathname).split("?")[1];if(!e)return"";e.split("&").forEach((e=>{i=e.split("="),i[0]===t&&(a=decodeURIComponent(i[1]))}))}return this._params[t]=a,a}catch(t){return!1}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashCode(t){let e,a,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)a=t.charCodeAt(e),i=(i<<5)-i+a,i|=0;return i}isMobileByProps(){return this.getOrPutFromCache("isMobileByProps",(()=>{const t=this.parseGetParam("deviceType")||w.deviceType,e="true"===this.parseGetParam("showMobileView"),a=N();return!!e||(t?String(t).toLowerCase().indexOf("mobile")>=0:a||void 0)}))}isUserAgentMobile(){try{const t=()=>{let t=!1;var e;return e=navigator.userAgent||navigator.vendor||w.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};return this.getOrPutFromCache("isUserAgentMobile",t)}catch(t){return!1}}isMobile(){return this.getOrPutFromCache("isMobile",(()=>{const t=this.isMobileByProps(),e=this.isUserAgentMobile();return this.isUndefined(t)?e:t}))}isTouch(){return this.getOrPutFromCache("isTouch",(()=>{var t;const e=F(),a=(null===(t=w.navigator)||void 0===t?void 0:t.maxTouchPoints)>0||"ontouchstart"in w.document.documentElement;return this.isUndefined(e)?a:e}))}isTest(){try{return w.isTest}catch(t){return!1}}isLocal(){try{const t=w.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}}isDev(){return this.getOrPutFromCache("isDev",(()=>this.shouldDebug("ph_local")||this.isOOI()&&!1||"true"===(this.safeLocalStorage()||{}).forceDevMode))}isVerbose(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode}isStoreGallery(){return this.getOrPutFromCache("isStoreGallery",(()=>{try{return w.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return this.isDev()&&console.error("cant find window",t),!1}}))}isSSR(){return void 0===(null===a.g||void 0===a.g?void 0:a.g.window)}isOOI(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))}isExternalUrl(t){return/(^https?)|(^data)|(^blob)/.test(t)}isiOS(){return this.getOrPutFromCache("isiOS",(()=>{try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!w.MSStream}catch(t){return!1}}))}isiPhone(){return this.getOrPutFromCache("isiPhone",(()=>{try{return/iPhone/.test(navigator.userAgent)&&!w.MSStream}catch(t){return!1}}))}isLandscape(){return this.getOrPutFromCache("isLandscape",(()=>{if(!this.isMobile())return!1;try{if(this.isUndefined(w.orientation)){const t=w.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===w.orientation||-90===w.orientation}catch(t){return!1}}))}safeLocalStorage(){try{return localStorage||w}catch(t){return w}}shouldDebug(t){try{return!!this.safeLocalStorage()[t]||(w.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}}deviceHasMemoryIssues(){return this.isiOS()}getTabIndex(t){const e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1}setStateAndLog(t,e,a,i){if(this.isVerbose()){console.log(`State Change Called (${e})`,a);const r=Object.assign({},t.state);t.setState(a,(()=>{const a=Object.assign({},t.state),s=this.printableObjectsDiff(r,a,"state");Object.keys(s).length>0&&console.log(`State Change Completed (${e})`,s),this.isFunction(i)&&i.bind(t)()}))}else t.setState(a,(()=>{this.isFunction(i)&&i.bind(t)()}))}printableObjectsDiff(t,e,a=""){const i=t=>(""===t?t="''":this.isUndefined(t)&&(t="undefined"),String(t)),r=(t={},e={},a,s=1)=>{if(s>3)return{};return Object.entries(t).reduce(((t,[o,n])=>(this.isEqual(n,e[o])||(Array.isArray(e[o])?(n.length!==e[o].length&&(t[o+".length"]="["+n.length+"] => ["+e[o].length+"]"),t=Object.assign(t,r(n,e[o],(a?a+".":"")+o,s+1))):"object"==typeof e[o]?t=Object.assign(t,r(n,e[o],(a?a+".":"")+o,s+1)):t[(a?a+".":"")+o]=i(n)+" => "+i(e[o])),t)),{})};return r(t,e,a,1)}getScreenWidth(){if(G()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(w.screen.width,w.screen.height):w.screen.width}catch(t){return 1920}}getScreenHeight(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(w.screen.width,w.screen.height):w.screen.height}catch(t){return 1200}}getWindowWidth(){try{return w.innerWidth||980}catch(t){return 980}}getMobileEnabledClick(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}}getTopUrlParam(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((e=>{const a=e.split("=");return a[0]===t&&a[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]}scrollTo(t,e,a,i,r){this.isMobile()&&(a=0);const s=i?t.scrollLeft:t.scrollTop,o=e-s;let n=0;const l=()=>{n+=20;const e=((t,e,a,i)=>0===i?a+e:(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e)(n,s,o,a);n<a?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof r&&r()),i?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()}formatColor(t){const e="inherit";if(!t)return e;const a=t.value?t.value:t,i=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(a);return i&&i[0]?a:e}logPlaygroundLink(t){try{if(this.isVerbose()){const e=Object.entries(t).filter((([t,e])=>"object"!=typeof e&&-1===String(t).indexOf("Expand")&&-1===String(t).indexOf("Color"))).map((([t,e])=>`${t}=${encodeURI(e)}`)).join("&");console.log("Gallery Playground link:",`https://pro-gallery.surge.sh?${e}`)}}catch(t){console.error(t)}}isSingleItemHorizontalDisplay(t){return t.scrollDirection===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[H.layoutParams.groups.groupSize]&&t[H.layoutParams.crop.enable]&&1===t[H.layoutParams.crop.ratios].length&&"100%/100%"===t[H.layoutParams.crop.ratios][0]}getAriaAttributes({proGalleryRole:t,proGalleryRegionLabel:e}){const a="application"===t?"gallery application":"region",i={role:t||"region","aria-label":e};return(t||"region")!==a&&(i["aria-roledescription"]=a),i}focusGalleryElement(t){t.focus()}isMeaningfulString(t){return"string"==typeof t&&!!t.trim().length}isHeightSetByGallery(t){return t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].VERTICAL&&!t[H.behaviourParams.gallery.vertical.loadMore.enable]}};function et(t,e,a,i=!0){let r=i?Object.assign({},t):t,s=e.split("_"),o=s.pop(),n=r;return s.forEach((t=>{"object"!=typeof n[t]&&(n[t]={}),n=n[t]})),n[o]=a,r}function at(t){var e={};for(var a in t)if(t.hasOwnProperty(a))if("object"==typeof t[a]&&!(t[a]instanceof Array)&&null!==t[a]&&Object.keys(t[a]).length>0){var i=at(t[a]);for(var r in i)i.hasOwnProperty(r)&&(e[a+"_"+r]=i[r])}else e[a]=t[a];return e}function it(t){return Object.entries(t).reduce(((t,[e,a])=>et(t,e,a,false)),{})}const rt=at({layoutParams:{crop:{ratios:[1],method:Q[H.layoutParams.crop.method].FILL,enable:!1,enableSmartCrop:!1,cropOnlyFill:!1,alignment:Q[H.layoutParams.crop.alignment].CENTER},structure:{galleryLayout:-1,galleryRatio:{value:0,includeExternalInfo:!1},scrollDirection:Q[H.layoutParams.structure.scrollDirection].VERTICAL,gallerySpacing:0,itemSpacing:10,enableStreching:!0,responsiveMode:Q[H.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,scatter:{randomScatter:0,manualScatter:""},layoutOrientation:Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,groupsOrder:Q[H.layoutParams.structure.groupsOrder].BY_HEIGHT,numberOfGridRows:1,numberOfColumns:3,columnRatios:[]},groups:{groupByOrientation:!0,numberOfGroupsPerRow:0,density:.8,groupSize:3,allowedGroupTypes:[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes]["2v"],Q[H.layoutParams.groups.allowedGroupTypes]["3t"],Q[H.layoutParams.groups.allowedGroupTypes]["3b"],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes]["3r"]],repeatingGroupTypes:[]},thumbnails:{size:120,spacing:4,marginToGallery:0,enable:!1,position:Q[H.layoutParams.thumbnails.position].OUTSIDE_GALLERY,alignment:Q[H.layoutParams.thumbnails.alignment].BOTTOM},navigationArrows:{enable:!0,position:Q[H.layoutParams.navigationArrows.position].ON_GALLERY,padding:23,size:23,verticalAlignment:Q[H.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER,type:Q[H.layoutParams.navigationArrows.type].DEFAULT_ARROW,container:{type:Q[H.layoutParams.navigationArrows.container.type].SHADOW,backgroundColor:"",borderRadius:-1}},targetItemSize:{unit:Q[H.layoutParams.targetItemSize.unit].SMART,value:30,minimum:120},info:{sizeUnits:Q[H.layoutParams.info.sizeUnits].PERCENT,width:50,height:200,spacing:10,layout:Q[H.layoutParams.info.layout].NO_BACKGROUND,placement:Q[H.layoutParams.info.placement].OVERLAY,border:{width:0,radius:0,color:""}}},behaviourParams:{item:{clickAction:Q[H.behaviourParams.item.clickAction].NOTHING,video:{playTrigger:Q[H.behaviourParams.item.video.playTrigger].HOVER,loop:!0,volume:0,enableControls:!1,speed:1,enablePlayButton:!1,enableThumbnailsPlayButton:!1,enablePlaceholder:!0},overlay:{hoveringBehaviour:Q[H.behaviourParams.item.overlay.hoveringBehaviour].APPEARS,hoverAnimation:Q[H.behaviourParams.item.overlay.hoverAnimation].NO_EFFECT,position:Q[H.behaviourParams.item.overlay.position].LEFT,size:100,sizeUnits:Q[H.behaviourParams.item.overlay.sizeUnits].PERCENT,padding:0},content:{hoverAnimation:Q[H.behaviourParams.item.content.hoverAnimation].NO_EFFECT,loader:Q[H.behaviourParams.item.content.loader].BLUR,placementAnimation:Q[H.behaviourParams.item.content.placementAnimation].NO_EFFECT,magnificationValue:2,tiltAngleValue:-4},secondaryMedia:{trigger:Q[H.behaviourParams.item.secondaryMedia.trigger].OFF,behaviour:Q[H.behaviourParams.item.secondaryMedia.behaviour].APPEARS},threeDimensionalScene:{controls:{enableAutoRotate:!1,enablePan:!0,enableRotate:!0,enableZoom:!1},transform:{rotation:"x0y0z0",scale:"x1y1z1",position:"x0y0z0"},playTrigger:Q[H.behaviourParams.item.threeDimensionalScene.playTrigger].HOVER,enablePlayButton:!1,enableThumbnailsPlayButton:!1,enablePlaceholder:!0}},gallery:{blockContextMenu:!0,layoutDirection:Q[H.behaviourParams.gallery.layoutDirection].LEFT_TO_RIGHT,scrollAnimation:Q[H.behaviourParams.gallery.scrollAnimation].NO_EFFECT,enableIndexingShareLinks:!0,horizontal:{enableScrollSnap:!1,navigationDuration:400,blockScroll:!1,loop:!1,slideTransition:Q[H.behaviourParams.gallery.horizontal.slideTransition].EASE,slideAnimation:Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,autoSlide:{behaviour:Q[H.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF,interval:4,pauseOnHover:!0,speed:200},slideshowInfo:{buttonsAlignment:Q[H.behaviourParams.gallery.horizontal.slideshowInfo.buttonsAlignment].CENTER,enablePlayButton:!1,enableCounter:!1}},vertical:{loadMore:{enable:!1,text:"",amount:Q[H.behaviourParams.gallery.vertical.loadMore.amount].ALL}}}},stylingParams:{itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemBorderColor:"",itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,itemShadowOpacityAndColor:"",arrowsColor:""},fixedColumns:0});const st=(t,e)=>{let a=Object.assign({},t);return a[H.layoutParams.info.height]=function(t,e){if(!function(t,e){return Y(t[H.layoutParams.info.placement])&&e}(t,e))return 0;return t[H.layoutParams.info.height]}(a,e),a.externalInfoHeight=function(t,e){let a=e;e>0&&Y(t[H.layoutParams.info.placement])&&t[H.layoutParams.info.layout]===Q[H.layoutParams.info.layout].SEPARATED_BACKGROUND&&(a+=t[H.layoutParams.info.spacing],a+=2*t[H.layoutParams.info.border.width]);return a}(a,a[H.layoutParams.info.height]),a.externalInfoWidth=function(t,e){if(!function(t,e){const a=t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].VERTICAL&&t[H.layoutParams.structure.layoutOrientation]===Q[H.layoutParams.structure.layoutOrientation].VERTICAL&&1===t[H.layoutParams.groups.groupSize];return a&&Z(t[H.layoutParams.info.placement])&&e}(t,e))return 0;let a=0;a=t[H.layoutParams.info.sizeUnits]===Q[H.layoutParams.info.sizeUnits].PERCENT?Math.min(100,Math.max(0,t[H.layoutParams.info.width]))/100:t[H.layoutParams.info.width];return a}(a,e),a},ot="OPTIONS",nt=t=>t.replace(/_/g," ").split(" ").map((t=>t[0].toUpperCase()+t.substr(1).toLowerCase())).join(" "),lt=t=>Object.entries(Q[t]).map((([t,e])=>({value:e,title:nt(t)}))),ut={title:"Slide Animation",isRelevant:t=>t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[H.layoutParams.groups.groupSize]&&t[H.layoutParams.crop.enable]&&JSON.stringify(t[H.layoutParams.crop.ratios])===JSON.stringify(["100%/100%"]),isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal"), set "Max Group Size" to "1" and set "Crop Images" to true.',type:ot,default:Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,get options(){return lt(H.behaviourParams.gallery.horizontal.slideAnimation)},description:"Choose the slide animation effect to be used when navigating between items in a slideshow"},ht={title:"Scroll Direction",isRelevant:()=>!0,isRelevantDescription:"Always relevant.",type:ot,default:Q[H.layoutParams.structure.scrollDirection].VERTICAL,get options(){return lt(H.layoutParams.structure.scrollDirection)},description:"Toggle between two types of galleries. Vertical and Horizontal. Notice that many options are available only for a specific scroll direction."},mt=t=>ht.isRelevant(t)&&t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,ct={title:"Navigation Arrows Position",isRelevant:t=>mt(t)&&t[H.layoutParams.navigationArrows.enable],isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal") and set "Show Navigation Arrows" to "true".',type:ot,default:Q.layoutParams_navigationArrows_position.ON_GALLERY,get options(){return lt("layoutParams_navigationArrows_position")},description:"Set the position of the navigation arrows in sliders. You can choose to position the arrows on the gallery (ON_GALLERY)\n  ,outside the gallery (OUTSIDE_GALLERY- in these case the gallery will margins from both sides to make room for the arrows), or on the mouse cursor (still in experimental mode).);\n  "},pt=(t,e)=>t[H.layoutParams.targetItemSize.unit]===Q[H.layoutParams.targetItemSize.unit].PIXEL&&t[H.layoutParams.targetItemSize.value]>0?t[H.layoutParams.targetItemSize.value]:t[H.layoutParams.targetItemSize.unit]===Q[H.layoutParams.targetItemSize.unit].PERCENT&&t[H.layoutParams.targetItemSize.value]>0?(w&&w.innerWidth||980)*(t[H.layoutParams.targetItemSize.value]/100):e>0?e:t[H.layoutParams.targetItemSize.value],dt=t=>{let e=Object.assign({},t);return e=gt(e),e[H.layoutParams.structure.scrollDirection]!==Q[H.layoutParams.structure.scrollDirection].VERTICAL&&e[H.layoutParams.structure.layoutOrientation]!==Q[H.layoutParams.structure.layoutOrientation].VERTICAL||(e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.density]=0),e},gt=t=>{let e=Object.assign({},t);return e.fixedColumns=0,e[H.layoutParams.structure.scrollDirection]!==Q[H.layoutParams.structure.scrollDirection].VERTICAL&&e[H.layoutParams.structure.layoutOrientation]!==Q[H.layoutParams.structure.layoutOrientation].VERTICAL||(e.fixedColumns=t[H.layoutParams.structure.responsiveMode]===Q[H.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW?e[H.layoutParams.structure.numberOfColumns]:0),e},yt=t=>{let e=Object.assign({},t);return e[H.layoutParams.crop.method]===Q[H.layoutParams.crop.method].FIT&&(e[H.stylingParams.itemBorderWidth]=0,e[H.stylingParams.itemBorderRadius]=0,e[H.stylingParams.itemEnableShadow]=!1),e};const _t=function(t,e){let a=Object.assign({},t);return tt.isMobile()&&(a=(t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.itemSpacing]>0&&(e[H.layoutParams.structure.itemSpacing]=Math.min(e[H.layoutParams.structure.itemSpacing],50)),e})(a)),a=(t=>{let e=Object.assign({},t);return Q.isLayout("SLIDER")(e)||Q.isLayout("COLUMN")(e)||Q.isLayout("SLIDESHOW")(e)||(e[H.layoutParams.structure.layoutOrientation]===Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL||e[H.layoutParams.groups.groupSize]>1)&&(e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY),e})(a),a=(t=>{let e=Object.assign({},t);return t.EXPERIMENTALallowParallelInfos||k(e[H.layoutParams.info.placement])||e[H.behaviourParams.item.overlay.hoveringBehaviour]===Q[H.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW||(e[H.behaviourParams.item.overlay.hoveringBehaviour]=Q[H.behaviourParams.item.overlay.hoveringBehaviour].APPEARS),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.stylingParams.itemEnableShadow]&&e[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[H.stylingParams.itemEnableShadow]=!1),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.stylingParams.itemEnableShadow]&&e[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].VERTICAL&&(e[H.layoutParams.structure.gallerySpacing]=Math.max(e[H.layoutParams.structure.gallerySpacing],(e[H.stylingParams.itemShadowSize]||0)+(e[H.stylingParams.itemShadowBlur]||0))),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.layoutParams.navigationArrows.position]===Q[H.layoutParams.navigationArrows.position].OUTSIDE_GALLERY&&(e[H.layoutParams.navigationArrows.padding]=0),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].VERTICAL&&(e[H.behaviourParams.gallery.horizontal.loop]=!1),e})(a),a=(t=>{let e=Object.assign({},t);return(e[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].VERTICAL||e[H.layoutParams.groups.groupSize]>1||!e[H.layoutParams.crop.enable])&&(e[H.behaviourParams.gallery.horizontal.slideAnimation]=Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL),e})(a),a=(t=>{let e=Object.assign({},t);return e.loadMoreButtonFont&&tt.isMobile()&&(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/;$/,""),e.loadMoreButtonFont.value.indexOf("underline")>-1?(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace("underline",""),e.textDecorationLoadMore="underline"):e.textDecorationLoadMore="none"),e})(a),a=st(a,e),a=(t=>{let e=Object.assign({},t);const a=e[H.layoutParams.groups.allowedGroupTypes].length>=1&&"1"===e[H.layoutParams.groups.allowedGroupTypes].join(""),i=e[H.layoutParams.info.placement].split(",").filter((t=>!K(t))).join(",");return X(i)&&a||(e[H.layoutParams.navigationArrows.verticalAlignment]=Q[H.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]?(e[H.behaviourParams.gallery.horizontal.autoSlide.behaviour]===Q[H.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&(e[H.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),!1===Q.isLayout("SLIDESHOW")(t)&&(e[H.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),e):e})(a),a=(t=>{let e=Object.assign({},t);return t[H.behaviourParams.gallery.horizontal.slideAnimation]!==Q[H.behaviourParams.gallery.horizontal.slideAnimation].FADE&&t[H.behaviourParams.gallery.horizontal.slideAnimation]!==Q[H.behaviourParams.gallery.horizontal.slideAnimation].DECK||!ut.isRelevant(t)||(e[H.behaviourParams.gallery.horizontal.blockScroll]=!0),e})(a),a=(t=>{let e=Object.assign({},t);return t[H.layoutParams.navigationArrows.position]===Q[H.layoutParams.navigationArrows.position].MOUSE_CURSOR&&ct.isRelevant(t)&&(e[H.behaviourParams.item.video.enableControls]=!1),e})(a),a=(t=>{let e=Object.assign({},t);return tt.isTouch()&&t[H.layoutParams.navigationArrows.position]===Q[H.layoutParams.navigationArrows.position].MOUSE_CURSOR&&ct.isRelevant(t)&&(e[H.layoutParams.navigationArrows.enable]=!1),e})(a),a=(t=>{let e=Object.assign({},t);return e[H.layoutParams.crop.cropOnlyFill]&&(e[H.layoutParams.crop.enable]=e[H.layoutParams.crop.method]===Q[H.layoutParams.crop.method].FILL),e})(a),a},Pt=t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].ALTERNATE,e[H.layoutParams.crop.method]=Q[H.layoutParams.crop.method].FILL,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.crop.ratios]=[1],e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].VERTICAL,e[H.layoutParams.structure.responsiveMode]=Q[H.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].VERTICAL,e[H.layoutParams.groups.groupSize]=3,e[H.layoutParams.groups.density]=.48,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes]["2v"],Q[H.layoutParams.groups.allowedGroupTypes]["3t"],Q[H.layoutParams.groups.allowedGroupTypes]["3b"],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes]["3r"],Q[H.layoutParams.groups.allowedGroupTypes]["3v"],Q[H.layoutParams.groups.allowedGroupTypes]["3h"]],e[H.layoutParams.targetItemSize.value]=86,e[H.layoutParams.targetItemSize.minimum]=50,e[H.layoutParams.groups.groupByOrientation]=!0,e[H.layoutParams.groups.repeatingGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"]],e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.numberOfColumns]=1,e[H.layoutParams.groups.numberOfGroupsPerRow]=0,e[H.layoutParams.structure.groupsOrder]=Q[H.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},ft=(Pt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].BRICKS,e[H.layoutParams.crop.method]=Q[H.layoutParams.crop.method].FILL,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].VERTICAL,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].VERTICAL,e[H.layoutParams.groups.groupSize]=3,e[H.layoutParams.groups.density]=.8,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes]["2v"],Q[H.layoutParams.groups.allowedGroupTypes]["3t"],Q[H.layoutParams.groups.allowedGroupTypes]["3b"],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes]["3r"],Q[H.layoutParams.groups.allowedGroupTypes]["3v"],Q[H.layoutParams.groups.allowedGroupTypes]["3h"]],e[H.behaviourParams.gallery.horizontal.loop]=!1,e[H.layoutParams.structure.responsiveMode]=Q[H.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[H.layoutParams.targetItemSize.value]=400,e[H.layoutParams.targetItemSize.minimum]=50,e[H.layoutParams.groups.groupByOrientation]=!0,e[H.layoutParams.groups.repeatingGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes]["2h"]],e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.numberOfColumns]=1,e[H.layoutParams.groups.numberOfGroupsPerRow]=0,e[H.layoutParams.structure.groupsOrder]=Q[H.layoutParams.structure.groupsOrder].BY_HEIGHT,e[H.layoutParams.crop.ratios]=[.707,1.414,1.414,.707],e.fixedColumns=1,e}),Tt=(ft({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].COLLAGE,e[H.layoutParams.crop.enable]=!1,Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.groups.groupSize]=3,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes]["2v"],Q[H.layoutParams.groups.allowedGroupTypes]["3t"],Q[H.layoutParams.groups.allowedGroupTypes]["3b"],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes]["3r"]],e[H.behaviourParams.gallery.horizontal.loop]=!1,e[H.layoutParams.structure.numberOfGridRows]=1,e[H.layoutParams.structure.responsiveMode]=Q[H.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e[H.layoutParams.structure.numberOfColumns]=0,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.behaviourParams.gallery.horizontal.slideAnimation]=Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),It=(Tt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].FULLSIZE,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.crop.ratios]=["100%/100%"],e[H.layoutParams.crop.method]=Q[H.layoutParams.crop.method].FILL,e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.structure.numberOfGridRows]=1,e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[H.layoutParams.crop.cropOnlyFill]=!0,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.itemSpacing]=0,e}),bt=(It({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].COLUMN,e[H.layoutParams.crop.method]=Q[H.layoutParams.crop.method].FILL,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.crop.ratios]=[.35],e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.structure.numberOfGridRows]=1,e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.structure.numberOfColumns]=0,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.behaviourParams.gallery.horizontal.slideAnimation]=Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),Et=(bt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].GRID,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].VERTICAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.behaviourParams.gallery.horizontal.loop]=!1,e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.layoutParams.targetItemSize.minimum]=50,e[H.behaviourParams.gallery.horizontal.slideAnimation]=Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e[H.layoutParams.groups.density]=0,e}),Ot=(Et({}),t=>{let e=Object.assign({},t);return e=Et(e),e.targetItemSize=pt(e,Math.round(8.5*e[H.layoutParams.targetItemSize.value]+150)),e=dt(e),e=(t=>{let e=Object.assign({},t);if(!tt.isUndefined(t[H.layoutParams.structure.numberOfGridRows])&&t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL)switch(e[H.layoutParams.structure.numberOfColumns]=0,t[H.layoutParams.structure.numberOfGridRows]){case 1:default:e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.density]=0;break;case 2:e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes]["2v"]],e[H.layoutParams.groups.groupSize]=2,e[H.layoutParams.groups.density]=1;break;case 3:e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes]["3v"]],e[H.layoutParams.groups.groupSize]=3,e[H.layoutParams.groups.density]=1}return e})(e),e=yt(e),e}),At=t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].MASONRY,e[H.layoutParams.crop.enable]=!1,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].VERTICAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.behaviourParams.gallery.horizontal.loop]=!1,e[H.layoutParams.crop.cropOnlyFill]=!1,e},St=(At({}),t=>{let e=Object.assign({},t);e=At(e);const a=e[H.layoutParams.structure.layoutOrientation]===Q[H.layoutParams.structure.layoutOrientation].VERTICAL,i=t[H.layoutParams.targetItemSize.value];return e.targetItemSize=pt(e,a?8*i+200:5*i+200),e=dt(e),e=(t=>{let e=Object.assign({},t);const a=e[H.layoutParams.structure.layoutOrientation]===Q[H.layoutParams.structure.layoutOrientation].VERTICAL;return e[H.layoutParams.structure.responsiveMode]=a?t[H.layoutParams.structure.responsiveMode]:Q[H.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e})(e),e}),Lt=t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].MIX,e[H.layoutParams.crop.method]=Q[H.layoutParams.crop.method].FILL,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.crop.ratios]=[1],e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].VERTICAL,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].VERTICAL,e[H.layoutParams.groups.groupSize]=3,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["2h"],Q[H.layoutParams.groups.allowedGroupTypes]["2v"],Q[H.layoutParams.groups.allowedGroupTypes]["3t"],Q[H.layoutParams.groups.allowedGroupTypes]["3b"],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes]["3r"],Q[H.layoutParams.groups.allowedGroupTypes]["3v"],Q[H.layoutParams.groups.allowedGroupTypes]["3h"]],e[H.layoutParams.groups.density]=.48,e[H.layoutParams.structure.responsiveMode]=Q[H.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[H.layoutParams.targetItemSize.value]=86,e[H.layoutParams.targetItemSize.minimum]=50,e[H.layoutParams.groups.groupByOrientation]=!0,e[H.layoutParams.groups.repeatingGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["3l"],Q[H.layoutParams.groups.allowedGroupTypes][1],Q[H.layoutParams.groups.allowedGroupTypes]["3r"]],e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.numberOfColumns]=1,e[H.layoutParams.groups.numberOfGroupsPerRow]=0,e[H.layoutParams.structure.groupsOrder]=Q[H.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},vt=(Lt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].PANORAMA,e[H.layoutParams.crop.enable]=!1,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].VERTICAL,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].VERTICAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.structure.responsiveMode]=Q[H.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[H.layoutParams.structure.numberOfColumns]=1,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.behaviourParams.gallery.horizontal.loop]=!1,e.fixedColumns=1,e}),Rt=(vt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].SLIDER,e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.structure.numberOfGridRows]=1,e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[H.layoutParams.crop.cropOnlyFill]=!0,e[H.behaviourParams.gallery.horizontal.slideAnimation]=Q[H.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e}),wt=(Rt({}),function(t){t[H.behaviourParams.item.content.placementAnimation]=Q[H.behaviourParams.item.content.placementAnimation].NO_EFFECT,t[H.behaviourParams.item.overlay.hoverAnimation]=Q[H.behaviourParams.item.overlay.hoverAnimation].NO_EFFECT,t[H.behaviourParams.item.content.hoverAnimation]=Q[H.behaviourParams.item.content.hoverAnimation].NO_EFFECT});const Ct=t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].SLIDESHOW,e[H.layoutParams.crop.ratios]=["100%/100%"],e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].BELOW,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.stylingParams.itemBorderWidth]=0,e[H.stylingParams.itemBorderRadius]=0,e[H.stylingParams.itemBorderColor]=void 0,e[H.layoutParams.structure.numberOfGridRows]=1,wt(e),e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.targetItemSize.value]=550,e[H.layoutParams.structure.numberOfColumns]=1,e[H.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.itemSpacing]=0,e.fixedColumns=1,e},Mt=(Ct({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].THUMBNAIL,e[H.layoutParams.crop.ratios]=["100%/100%"],e[H.layoutParams.crop.enable]=!0,e[H.layoutParams.info.placement]=Q[H.layoutParams.info.placement].OVERLAY,e[H.layoutParams.structure.scrollDirection]=Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,e[H.layoutParams.structure.gallerySpacing]=0,e[H.layoutParams.structure.layoutOrientation]=Q[H.layoutParams.structure.layoutOrientation].HORIZONTAL,e[H.layoutParams.groups.groupSize]=1,e[H.layoutParams.groups.allowedGroupTypes]=[Q[H.layoutParams.groups.allowedGroupTypes][1]],e[H.layoutParams.structure.numberOfGridRows]=1,e[H.layoutParams.crop.enableSmartCrop]=!1,e[H.layoutParams.thumbnails.enable]=!0,e[H.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[H.layoutParams.crop.cropOnlyFill]=!1,e[H.layoutParams.structure.scatter.randomScatter]=0,e[H.layoutParams.structure.scatter.manualScatter]="",e[H.layoutParams.structure.itemSpacing]=0,e[H.layoutParams.targetItemSize.value]=550,e}),Dt=(Mt({}),t=>{let e=Object.assign({},t);return e[H.layoutParams.structure.galleryLayout]=Q[H.layoutParams.structure.galleryLayout].EMPTY,e}),xt=(Dt({}),t=>{try{const e=t.jsonStyleParams?JSON.parse(t.jsonStyleParams):{};return function(...t){return it(Object.assign({},...t.map(at)))}(t,it(e))}catch(t){return{}}}),Gt=t=>{const e=Q[H.layoutParams.structure.galleryLayout];switch(t[H.layoutParams.structure.galleryLayout]){case e.MASONRY:return St(t);case e.GRID:return Ot(t);case e.THUMBNAIL:return(t=>{let e=Object.assign({},t);return e=Mt(e),e.targetItemSize=pt(e),e=yt(e),e})(t);case e.SLIDER:return(t=>{let e=Object.assign({},t);return e=Rt(e),e.targetItemSize=pt(e),e=yt(e),e})(t);case e.SLIDESHOW:return(t=>{let e=Object.assign({},t);return e=Ct(e),e.targetItemSize=pt(e),e=yt(e),e})(t);case e.PANORAMA:return(t=>{let e=Object.assign({},t);return e=vt(e),e.targetItemSize=pt(e),e})(t);case e.COLUMN:return(t=>{let e=Object.assign({},t);return e=bt(e),e.targetItemSize=pt(e),e})(t);case e.MAGIC:return console.error("A layout generated by the magicLayoutSeed is no longer supported as of Pro Gallery v5"),t;case e.FULLSIZE:return(t=>{let e=Object.assign({},t);return e=It(e),e.targetItemSize=pt(e),e})(t);case e.BRICKS:return(t=>{let e=Object.assign({},t);return e=ft(e),e.targetItemSize=pt(e),e})(t);case e.MIX:return(t=>{let e=Object.assign({},t);return e=Lt(e),e.targetItemSize=pt(e),e})(t);case e.ALTERNATE:return(t=>{let e=Object.assign({},t);return e=Pt(e),e.targetItemSize=pt(e),e})(t);case e.EMPTY:return(t=>{let e=Object.assign({},t);return e=Dt(e),e=gt(e),e.targetItemSize=pt(e,Math.round(9*e[H.layoutParams.targetItemSize.value]+100)),e})(t);case e.JSON_FIXED:return xt(t);case e.COLLAGE:default:return(t=>{let e=Object.assign({},t);e=Tt(e);const a=t[H.layoutParams.targetItemSize.value];return e.targetItemSize=pt(e,Math.round(5*a+500)),e})(t)}},Nt=t=>t[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL,Ft=t=>{const e=t[H.layoutParams.groups.repeatingGroupTypes].length>1?"1"===t[H.layoutParams.groups.repeatingGroupTypes].join(""):"1"===t[H.layoutParams.groups.allowedGroupTypes].join(""),a=t[H.layoutParams.info.placement].split(",").filter((t=>!K(t))).join(",");return e&&X(a)&&Nt(t)&&t[H.layoutParams.structure.galleryRatio.value]>0};const Ht=new class{constructor(){this.options={},this.container={},this.id="",this._cache={}}getOrPutInCache(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]}dumpCache(){this._cache={}}updateParams({options:t,container:e,id:a}){this.dumpCache(),this.id=a||this.id,this.options=t||this.options,this.container=e||this.container,this.fixHeightForHorizontalGalleryIfNeeded()}getGalleryDimensions(){return this.getOrPutInCache("galleryDimensions",(()=>{const t={galleryWidth:Math.ceil(this.getGalleryWidth()),galleryHeight:Math.ceil(this.getGalleryHeight()),scrollBase:this.container.scrollBase?Math.ceil(this.container.scrollBase):0,height:Math.ceil(this.container.height),width:Math.ceil(this.container.width)};return this.container.externalScrollBase&&(t.scrollBase+=this.container.externalScrollBase),this.options[H.layoutParams.thumbnails.enable]&&this.options[H.layoutParams.thumbnails.position]===Q[H.layoutParams.thumbnails.position].OUTSIDE_GALLERY&&(t.galleryHeight-=this.getThumbnailHeightDelta(),t.galleryWidth-=this.getThumbnailWidthDelta()),this.options[H.layoutParams.thumbnails.enable]&&(t.navigationBarHeight=this.getThumbnailHeightDelta()||t.galleryHeight,t.navigationBarWidth=this.getThumbnailWidthDelta()||t.galleryWidth),t}))}getGalleryWidth(){return this.getOrPutInCache("galleryWidth",(()=>{let t=Math.floor(this.container.width)+2*this.getDimensionFix();return this.options[H.layoutParams.navigationArrows.position]===Q[H.layoutParams.navigationArrows.position].OUTSIDE_GALLERY&&this.options[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&(t-=2*(this.options[H.layoutParams.navigationArrows.size]+40+this.options[H.layoutParams.structure.itemSpacing]/2)),t}))}getGalleryHeight(){return this.getOrPutInCache("galleryHeight",(()=>Math.floor((this.container.height>0?this.container.height:0)+(()=>this.options[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL?this.getDimensionFix():0)())))}getDimensionFix(){return this.getOrPutInCache("dimensionFix",(()=>Number(this.options[H.layoutParams.structure.itemSpacing]/2)-Number(this.options[H.layoutParams.structure.gallerySpacing])))}getGalleryRatio(){return this.getOrPutInCache("galleryRatio",(()=>{const t=this.getGalleryDimensions();return t.galleryWidth/t.galleryHeight}))}getThumbnailSize(){return this.options[H.layoutParams.thumbnails.size]+this.options[H.layoutParams.structure.gallerySpacing]+this.options[H.layoutParams.thumbnails.marginToGallery]}getThumbnailHeightDelta(){switch(this.options[H.layoutParams.thumbnails.alignment]){case Q[H.layoutParams.thumbnails.alignment].TOP:case Q[H.layoutParams.thumbnails.alignment].BOTTOM:return this.getThumbnailSize();case Q[H.layoutParams.thumbnails.alignment].RIGHT:case Q[H.layoutParams.thumbnails.alignment].LEFT:return 0}}getThumbnailWidthDelta(){switch(this.options[H.layoutParams.thumbnails.alignment]){case Q[H.layoutParams.thumbnails.alignment].TOP:case Q[H.layoutParams.thumbnails.alignment].BOTTOM:return 0;case Q[H.layoutParams.thumbnails.alignment].RIGHT:case Q[H.layoutParams.thumbnails.alignment].LEFT:return this.getThumbnailSize()}}fixHeightForHorizontalGalleryIfNeeded(){if(this.options[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.scrollDirection].HORIZONTAL&&this.options[H.layoutParams.structure.galleryRatio.value]>0)if(this.options[H.layoutParams.thumbnails.enable]&&this.options[H.layoutParams.thumbnails.position]===Q[H.layoutParams.thumbnails.position].OUTSIDE_GALLERY)switch(this.options[H.layoutParams.thumbnails.alignment]){case Q[H.layoutParams.thumbnails.alignment].TOP:case Q[H.layoutParams.thumbnails.alignment].BOTTOM:this.container.height=this.container.width*this.options[H.layoutParams.structure.galleryRatio.value]+this.getThumbnailHeightDelta();break;case Q[H.layoutParams.thumbnails.alignment].RIGHT:case Q[H.layoutParams.thumbnails.alignment].LEFT:this.container.height=(this.container.width-this.getThumbnailWidthDelta())*this.options[H.layoutParams.structure.galleryRatio.value]}else this.container.height=this.container.width*this.options[H.layoutParams.structure.galleryRatio.value],!this.options[H.layoutParams.structure.galleryRatio.includeExternalInfo]&&Ft(this.options)&&(this.container.height+=this.options.externalInfoHeight)}};const Ut=new class{createBlueprint({params:t,lastParams:e,existingBlueprint:a,blueprintManagerId:i,isUsingCustomInfoElements:r}){this.reasons={items:"",itemsAdded:"",options:"",container:""};let s={};try{const{container:i,items:o,options:n}=t,{container:l,items:u,options:h}=e,{formattedItems:m,changed:c}=this.formatItemsIfNeeded(o,u),{formattedOptions:p,changed:d}=this.formatOptionsIfNeeded(n,h,r),{formattedContainer:g,changed:y}=this.formatContainerIfNeeded(i,l,h,p||a.options,d),_=c||d||y;if(s={itemsChanged:c,optionsChanged:d,containerChanged:y},_||!a){a||(a={});const t=this.createStructure({formattedContainer:g||a.container,formattedItems:m||a.items,formattedOptions:p||a.options},_);p&&(a.options=p),m&&(a.items=m),g&&(a.container=g),a.structure=t;tt.isHeightSetByGallery(a.options)&&(a.container.height=a.container.galleryHeight=t.height)}}catch(t){console.error("Could not create blueprint, error:",t)}return{blueprint:a,changedParams:s,blueprintManagerId:i,reasons:Object.entries(this.reasons).reduce(((t,[e,a])=>[...t,`${e}: ${a}`]),[]).join(", ")}}formatItemsIfNeeded(t,e){const a=e;let i,s=!1;return((t,e)=>{if(t===e)return this.reasons.itemsAdded="items are the same object.",!1;if(!t)return this.reasons.itemsAdded="new items do not exist.",!1;if(!e||e&&0===e.length)return this.reasons.itemsAdded="old items do not exist.",!1;if(e.length>=t.length)return this.reasons.itemsAdded="more old items than new items.",!1;const a=e.reduce(((e,a,i)=>e&&a.id===t[i].itemId),!0);return a||(this.reasons.itemsAdded="items ids were changed. "),a})(t,a)?(i=a.concat(t.slice(a.length).map((t=>r.J.convertDtoToLayoutItem(t)))),this.gettingMoreItems=!1,s=!0):((t,e)=>t===e?(this.reasons.items="items are the same object.",!1):t?!e||e&&0===e.length?(this.reasons.items="old items do not exist.",!0):e.length!==t.length?(this.reasons.items="more new items than old items (or vice versa).",!0):t.some(((t,a)=>{const i=e[a];try{const e=!t||!i||t.itemId!==i.itemId||t.mediaUrl!==i.mediaUrl||t.measured!==i.measured||t.metaData&&i.metaData&&(t.metaData.type!==i.metaData.type||t.metaData.title!==i.metaData.title||t.metaData.description!==i.metaData.description)||t.metaData&&"text"===t.metaData.type&&i.metaData&&"text"===i.metaData.type&&(t.metaData.width!==i.metaData.width||t.metaData.height!==i.metaData.height||t.metaData.html!==i.metaData.html||t.metaData.textStyle!==i.metaData.textStyle||t.metaData.editorHtml!==i.metaData.editorHtml);return e&&(this.reasons.items=`items #${a} id was changed.`),e}catch(t){return this.reasons.items="an error occured",!0}}),!1):(this.reasons.items="new items do not exist.",!1))(t,a)&&(i=t.map((t=>Object.assign(r.J.convertDtoToLayoutItem(t)))),this.gettingMoreItems=!1,s=!0),{formattedItems:i,changed:s}}formatOptionsIfNeeded(t,e,a){let i,r=!1;if(((t,e)=>{if(!t)return this.reasons.options="no new options.",!1;if(!e)return this.reasons.options="no old options.",!0;try{const a={};Object.keys(e).sort().forEach((t=>a[t]=e[t]));const i={};Object.keys(t).sort().forEach((e=>i[e]=t[e]));const r=JSON.stringify(i)!==JSON.stringify(a);return r&&(this.reasons.options="options were changed."),r}catch(t){return console.error("Could not compare options",t),!1}})(t,e)){const e=function(t){const e=Object.assign({},rt,t);return Object.keys(e).forEach((t=>{void 0===e[t]&&(e[t]=rt[t])})),e}(t);i=_t(Gt(e),a),r=!0}return{formattedOptions:i,changed:r}}formatContainerIfNeeded(t,e,a,i,r){let s=!1;let o;return(r||(({newContainerParams:t,oldContainerParams:e,oldOptions:a})=>{if(!a||!e)return this.reasons.container="no old container or options. ",!0;if(!t)return this.reasons.container="no new container.",!1;const r={height:!tt.isHeightSetByGallery(i)&&(!!t.height&&t.height!==e.height),width:!e||!!t.width&&t.width!==e.width};return Object.keys(r).reduce(((t,e)=>(r[e]&&(this.reasons.container+=`container.${e} has changed. `),t||r[e])),!1)})({newContainerParams:t,oldContainerParams:e,oldOptions:a}))&&(Ht.updateParams({options:i,container:t}),s=!0,o=Object.assign({},t,Ht.getGalleryDimensions())),{formattedContainer:o,changed:s}}createStructure({formattedContainer:t,formattedOptions:e,formattedItems:a}){const i={items:a,container:t,styleParams:e,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return i.options.createLayoutOnInit=!1,this.layouter=new c(i),this.layouter.createLayout(i)}},zt=Ut;class kt{constructor({id:t}){this.id=t+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.lastBlueprintId=0,this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=()=>{},this.loopingItems=!1}init(t){this.api=t.api,this.currentState.totalItemsCount=t&&t.totalItemsCount||this.currentState.totalItemsCount,D.setDeviceType(t.deviceType)}setCurrentBlueprint(t){this.lastBlueprintId=t}async createBlueprint(t={}){const e=Math.floor(1e3*Math.random());this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t=Object.assign(Object.assign({},t),await this.completeParams(t)),t=this.duplicateItemsForSlideshowLoopIfNeeded(t);const{blueprintManagerId:a,blueprint:i,changedParams:r,reasons:s}=await(async t=>(this.setCurrentBlueprint(t.blueprintManagerId),this.api.createBlueprintImp?await this.api.createBlueprintImp(t):await zt.createBlueprint(t)))({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id+e,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements});if(a!==this.lastBlueprintId)return;const o=Object.values(r).some((t=>!!t)),n=Object.keys(i).length>0;return this.updateLastParamsIfNeeded(t,r,n),await new Promise((t=>setTimeout(t,0))),n&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:o,reasons:s}),this.cache[t]=this.existingBlueprint=i}async getMoreItems(t){let e;t<this.currentState.totalItemsCount?(e=await this.api.fetchMoreItems(t),e&&this.createBlueprint({items:e})):this.existingBlueprint.options[H.behaviourParams.gallery.horizontal.loop]&&this.duplicateItemsAndCreateBlueprint()}resetItemLooping(){this.loopingItems=!1}createInitialBlueprint(t){this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t=this.duplicateItemsForSlideshowLoopIfNeeded(t);const{blueprint:e,changedParams:a,reasons:i}=zt.createBlueprint({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements}),r=Object.values(a).some((t=>!!t)),s=Object.keys(e).length>0;return this.updateLastParamsIfNeeded(t,a,s),s&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:e,blueprintChanged:r,reasons:i,initialBlueprint:!0}),s&&(this.cache[t]=this.existingBlueprint=e)}createSingleBlueprint(t={}){let{isUsingCustomInfoElements:e}=t;const{blueprint:a}=zt.createBlueprint({params:t,lastParams:{},existingBlueprint:{},blueprintManagerId:this.id+"_singleBlueprint",isUsingCustomInfoElements:e});return a}duplicateGalleryItems({items:t,duplicateFactor:e=1}){const a=(t=t||this.currentState.items).slice(0,this.currentState.totalItemsCount);for(let i=0;i<e;i++)t=t.concat(...a);return this.loopingItems=!0,t}duplicateItemsAndCreateBlueprint(){const t=this.duplicateGalleryItems({});this.createBlueprint({items:t})}duplicateItemsForSlideshowLoopIfNeeded(t){const{items:e,options:a}=t,{totalItemsCount:i}=this.currentState,r=e.length<30&&e.length===i,s=a[H.layoutParams.structure.scrollDirection]===Q[H.layoutParams.structure.galleryLayout].HORIZONTAL;if(a[H.behaviourParams.gallery.horizontal.loop]&&r&&s){const a=Math.ceil(30/e.length)-1;return Object.assign(Object.assign({},t),{items:this.duplicateGalleryItems({items:e,duplicateFactor:a})})}return t}async completeParams(t){let{container:e,items:a,options:i,id:r}=t||{};return e=await this.fetchContainerIfNeeded(e),a=await this.fetchItemsIfNeeded(a),i=await this.fetchOptionsIfNeeded(i),{container:e,items:a,options:i,id:r}}async fetchContainerIfNeeded(t){return(t=>{let e=!0;return t&&Object.keys(t).length>0&&(e=!1),e})(t)&&(t=this.api.fetchContainer&&await this.api.fetchContainer()||this.currentState.container),t}async fetchItemsIfNeeded(t){return(t=>{let e=!0;return t&&t.length>0&&(e=!1),e})(t)&&(t=!this.loopingItems&&this.api.fetchItems&&await this.api.fetchItems()||this.currentState.items),t}async fetchOptionsIfNeeded(t){return(t=>{let e=!0;return t&&Object.keys(t).length>0&&(e=!1),e})(t)&&(t=this.api.fetchOptions&&await this.api.fetchOptions()||this.currentState.options),t}updateLastParamsIfNeeded({items:t,container:e,options:a},i,r){r&&(this.currentState.items=i.itemsChanged?t:this.currentState.items,this.currentState.container=i.containerChanged?Object.assign({},e):this.currentState.container,this.currentState.options=i.optionsChanged?Object.assign({},a):this.currentState.options)}needMoreItems(t){this.getMoreItems(t)}}},94763:(t,e,a)=>{"use strict";a.d(e,{J:()=>tt});var i={};a.r(i),a.d(i,{debounce:()=>o,get:()=>n,isEqual:()=>u,isFunction:()=>l,isNumber:()=>h,pick:()=>r,throttle:()=>s});const r=(t,e)=>{const a={};return Object.entries(t||{}).forEach((([t,i])=>{e.indexOf(t)>=0&&(a[t]=i)})),a},s=(t,e)=>{let a=!1,i=!1;return(...r)=>{a?i=!0:(i=!1,t.apply(void 0,r),a=!0,setTimeout((()=>{i&&t.apply(void 0,r),a=!1}),e))}},o=(t,e)=>{let a;return(...i)=>{clearTimeout(a),a=setTimeout((()=>{t.apply(void 0,i)}),e)}},n=(t,e,a)=>{const i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce(((t,e)=>null!=t?t[e]:t),t);return void 0===i||i===t?a:i},l=t=>"function"==typeof t,u=(t,e)=>{try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},h=t=>!isNaN(parseFloat(t))&&isFinite(t),m=()=>({}),c=2560,p=1440,d={y:0,x:0,width:c,height:p,innerWidth:c,innerHeight:p,outerWidth:c,outerHeight:p,clientWidth:c,clientHeight:p},g=Object.assign(Object.assign({},d),{getBoundingClientRect:()=>d}),y=Object.assign({addEventListener:m,removeEventListener:m,createEvent:m,getElementById:()=>g,getElementsByClassName:()=>[g],getElementsByTagName:()=>[g],querySelector:()=>[g],documentElement:g,activeElement:g,style:d},d);y.body=y;const _=Object.assign(Object.assign({},d),{scrollTop:0,scrollY:0}),P=Object.assign({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,addEventListener:m,removeEventListener:m,createEvent:m,CustomEvent:m,screen:d,open:m,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:m,requestAnimationFrame:m,dispatchEvent:m,document:y,getComputedStyle:m,localStorage:{},frames:[]},_),f=new Map(Object.keys(_).map((t=>[t,_[t]])));P.parent=P;const T=P;const I=(new class{constructor(){this.shouldUseMock=!0,this.initProxyWindow=this.initProxyWindow.bind(this),this.windowIsAvailable()?this.initProxyWindow():this.initMockWindow()}windowIsAvailable(){try{return"undefined"!=typeof window}catch(t){return!1}}initProxyWindow(){const t={get:function(t,e){return f.has(e)&&this.shouldUseMock?f.get(e):t[e]}.bind(this),set:function(t,e,a){return Reflect.set(t,e,a)}},e=new Proxy(window,t),a={get:function(t,a){return e.proGalleryCustomProps.has(a)||"function"!=typeof e[a]?e[a]:e[a].bind(window)},set:function(t,a,i){return e.proGalleryCustomProps.add(a),Reflect.set(e,a,i)}};e.proGalleryCustomProps||(e.proGalleryCustomProps=new Set),this.window=new Proxy({},a)}initMockWindow(){this.window=T,this.window.mockInstanceId=Math.floor(1e5*Math.random())}stopUsingMock(){this.shouldUseMock=!1}get shouldUseMock(){return this._shouldUseMock}set shouldUseMock(t){this._shouldUseMock=t}}).window,b={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"},E={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"};const O=new class{constructor(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setDeviceType=this.setDeviceType.bind(this),this.isDeviceTypeDesktop=this.isDeviceTypeDesktop.bind(this),this.isDeviceTypeMobile=this.isDeviceTypeMobile.bind(this),this.isDeviceTypeTablet=this.isDeviceTypeTablet.bind(this),this.isDeviceTypeTouch=this.isDeviceTypeTouch.bind(this),this._viewMode=b.SITE,this._deviceType=E.DESKTOP}setViewMode(t){this._viewMode=t}setDeviceType(t){this._deviceType=t}isDeviceTypeMobile(){return this._deviceType===E.MOBILE}isDeviceTypeTablet(){return this._deviceType===E.TABLET}isDeviceTypeDesktop(){return this._deviceType===E.DESKTOP}isDeviceTypeTouch(){return this.isDeviceTypeMobile()||this.isDeviceTypeTablet()}isSiteMode(){return this._viewMode===b.SITE}isEditMode(){return this._viewMode===b.EDIT}isPreviewMode(){return this._viewMode===b.PREVIEW}isSEOMode(){return this._viewMode===b.SEO}},A=(O.isSiteMode,O.isEditMode),S=O.isPreviewMode,L=(O.isSEOMode,O.isDeviceTypeMobile),v=(O.isDeviceTypeTablet,O.isDeviceTypeDesktop,O.isDeviceTypeTouch),R={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},w={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"},C={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PAUSED:"VIDEO_PAUSED",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS",GALLERY_SCROLLED:"GALLERY_SCROLLED",NAVIGATION_API_READY:"NAVIGATION_API_READY",GALLERY_NAVIGATION_START:"GALLERY_NAVIGATION_START"},M={FILL:"FILL",FIT:"FIT",MIN:"MIN",MAX:"MAX"},D={CENTER:"CENTER",TOP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM"};var x=a(29951);const G={JSON_FIXED:-3,DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12},N={OVERLAY:"OVERLAY",ABOVE:"ABOVE",BELOW:"BELOW",LEFT:"LEFT",RIGHT:"RIGHT",ALTERNATE_HORIZONTALLY:"ALTERNATE_HORIZONTALLY",ALTERNATE_VERTICALLY:"ALTERNATE_VERTICALLY"},F=t=>String(t).includes(N.OVERLAY),H=(t,e)=>String(t).includes(N.ABOVE)||e%2==0&&String(t).includes(N.ALTERNATE_VERTICALLY),U=(t,e)=>String(t).includes(N.BELOW)||e%2==1&&String(t).includes(N.ALTERNATE_VERTICALLY),z=(t,e)=>String(t).includes(N.RIGHT)||e%2==0&&String(t).includes(N.ALTERNATE_HORIZONTALLY),k=(t,e)=>String(t).includes(N.LEFT)||e%2==1&&String(t).includes(N.ALTERNATE_HORIZONTALLY),B=t=>H(t,0)||U(t,1),W=t=>z(t,0)||k(t,1),V=t=>String(t)===N.ABOVE,j=t=>String(t)===N.BELOW,Y={HOVER:"HOVER",AUTO:"AUTO",CLICK:"CLICK"},Z={events:C,deviceType:E,isLayout:t=>e=>e[x.A.layoutParams.structure.galleryLayout]===G[t],hasExternalAbovePlacement:H,hasExternalBelowPlacement:U,hasHoverPlacement:F,hasExternalRightPlacement:z,hasExternalLeftPlacement:k,hasExternalVerticalPlacement:B,hasExternalHorizontalPlacement:W,isExternalAbovePlacement:V,isExternalBelowPlacement:j,isHoverPlacement:t=>String(t)===N.OVERLAY,isExternalRightPlacement:t=>String(t)===N.RIGHT,isExternalLeftPlacement:t=>String(t)===N.LEFT,isExternalVerticalPlacement:t=>B(t)&&!W(t)&&!F(t),isExternalHorizontalPlacement:t=>W(t)&&!B(t)&&!F(t),isConstantVerticalPlacement:t=>{const e=t.split(","),a=e.shift();return(t=>V(t)||j(t))(a)&&e.every((t=>t===a))},resizeMethods:w,socialNetworks:R,urlSizes:{RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample",MAGNIFIED:"magnified"},urlTypes:{HIGH_RES:"img",LOW_RES:"thumb",VIDEO:"video",THREE_D:"3d"},viewMode:b,layoutParams_crop_method:M,layoutParams_crop_alignment:D,layoutParams_structure_galleryLayout:G,layoutParams_structure_groupsOrder:{BY_HEIGHT:"BY_HEIGHT",LEFT_TO_RIGHT:"LEFT_TO_RIGHT"},layoutParams_structure_layoutOrientation:{VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"},layoutParams_structure_responsiveMode:{FIT_TO_SCREEN:"FIT_TO_SCREEN",SET_ITEMS_PER_ROW:"SET_ITEMS_PER_ROW"},layoutParams_structure_scrollDirection:{VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"},layoutParams_groups_allowedGroupTypes:{1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},layoutParams_thumbnails_alignment:{BOTTOM:"BOTTOM",LEFT:"LEFT",TOP:"TOP",RIGHT:"RIGHT"},layoutParams_navigationArrows_verticalAlignment:{ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"},layoutParams_navigationArrows_position:{ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY",MOUSE_CURSOR:"MOUSE_CURSOR"},layoutParams_navigationArrows_type:{DEFAULT_ARROW:"DEFAULT_ARROW",ARROW_2:"ARROW_2",ARROW_3:"ARROW_3",ARROW_4:"ARROW_4",ARROW_5:"ARROW_5",ARROW_6:"ARROW_6",ARROW_7:"ARROW_7"},layoutParams_navigationArrows_container_type:{NONE:"NONE",SHADOW:"SHADOW",BOX:"BOX"},layoutParams_info_layout:{NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"},layoutParams_info_sizeUnits:{PERCENT:"PERCENT",PIXEL:"PIXEL"},layoutParams_info_placement:N,layoutParams_targetItemSize_unit:{SMART:"SMART",PIXEL:"PIXEL",PERCENT:"PERCENT"},behaviourParams_item_clickAction:{ACTION:"ACTION",LINK:"LINK",NOTHING:"NOTHING",MAGNIFY:"MAGNIFY"},behaviourParams_item_video_playTrigger:Y,behaviourParams_item_overlay_hoveringBehaviour:{APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",ALWAYS_SHOW:"ALWAYS_SHOW",NEVER_SHOW:"NEVER_SHOW"},behaviourParams_item_overlay_hoverAnimation:{NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT",SLIDE_DOWN:"SLIDE_DOWN",SLIDE_LEFT:"SLIDE_LEFT"},behaviourParams_item_overlay_position:{LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",TOP:"TOP",CENTERED_VERTICALLY:"CENTERED_VERTICALLY",CENTERED_HORIZONTALLY:"CENTERED_HORIZONTALLY"},behaviourParams_item_overlay_sizeUnits:{PIXEL:"PIXEL",PERCENT:"PERCENT"},behaviourParams_item_content_hoverAnimation:{NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",TILT:"TILT",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED",MAIN_COLOR:"MAIN_COLOR"},behaviourParams_item_content_placementAnimation:{NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"},behaviourParams_item_content_loader:{BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"},behaviourParams_item_secondaryMedia_trigger:{OFF:"OFF",HOVER:"HOVER"},behaviourParams_item_secondaryMedia_behaviour:{APPEARS:"APPEARS"},behaviourParams_gallery_layoutDirection:{LEFT_TO_RIGHT:"LEFT_TO_RIGHT",RIGHT_TO_LEFT:"RIGHT_TO_LEFT"},behaviourParams_gallery_scrollAnimation:{NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},behaviourParams_gallery_vertical_loadMore_amount:{PARTIAL:"PARTIAL",ALL:"ALL"},behaviourParams_gallery_horizontal_slideAnimation:{SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"},behaviourParams_gallery_horizontal_slideTransition:{EASE:"cubic-bezier(0.46,0.1,0.25,1)"},behaviourParams_gallery_horizontal_autoSlide_behaviour:{OFF:"OFF",INTERVAL:"INTERVAL",CONTINUOUS:"CONTINUOUS"},behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment:{LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"},behaviourParams_item_threeDimensionalScene_playTrigger:Y,parse3DDimensions:t=>({x:parseFloat(t.split("x")[1].split("y")[0]),y:parseFloat(t.split("y")[1].split("z")[0]),z:parseFloat(t.split("z")[1])}),stylingParams_itemResolutionMode:{FULL:"FULL",SCALED_DOWN:"SCALED_DOWN"},layoutParams_thumbnails_position:{ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY"}};const q=new class{constructor(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}shouldUseCache(){return!A()&&!S()&&!this.isSSR()}isUndefined(t){return void 0===t}uniqueBy(t,e){return t.filter(((t,a,i)=>i.map((t=>t[e])).indexOf(t[e])===a))}inRange(t,e,a=e){if(0===e)return-1;for(;t<0;)t+=e;for(;t>a;)t-=e;return t}sliceArrayWithRange(t,e,a){return Array(a-e).fill(0).map(((a,i)=>{const r=e+i;return t[this.inRange(r,t.length,t.length-1)]}))}sliceArrayIfAvailable(t,e,a){let i=Math.max(e,0),r=Math.min(a,t.length);return i>e&&(r=Math.min(r+(i-e),t.length)),r<a&&(i=Math.max(i-(a-r),0)),this.sliceArrayWithRange(t,i,r)}dumpCache(){this._cache={}}getOrPutFromCache(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()}hashToInt(t,e,a){let i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(a)?this._hash2int[t]:this._hash2int[t]%(a-e+1)+e}parseGetParam(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];let a="",i=[],r=location;if(e&&(r={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),r.search.substr(1).split("&").forEach((e=>{i=e.split("="),i[0]===t&&(a=decodeURIComponent(i[1]))})),!a){const e=decodeURIComponent(r.pathname).split("?")[1];if(!e)return"";e.split("&").forEach((e=>{i=e.split("="),i[0]===t&&(a=decodeURIComponent(i[1]))}))}return this._params[t]=a,a}catch(t){return!1}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashCode(t){let e,a,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)a=t.charCodeAt(e),i=(i<<5)-i+a,i|=0;return i}isMobileByProps(){return this.getOrPutFromCache("isMobileByProps",(()=>{const t=this.parseGetParam("deviceType")||I.deviceType,e="true"===this.parseGetParam("showMobileView"),a=L();return!!e||(t?String(t).toLowerCase().indexOf("mobile")>=0:a||void 0)}))}isUserAgentMobile(){try{const t=()=>{let t=!1;var e;return e=navigator.userAgent||navigator.vendor||I.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};return this.getOrPutFromCache("isUserAgentMobile",t)}catch(t){return!1}}isMobile(){return this.getOrPutFromCache("isMobile",(()=>{const t=this.isMobileByProps(),e=this.isUserAgentMobile();return this.isUndefined(t)?e:t}))}isTouch(){return this.getOrPutFromCache("isTouch",(()=>{var t;const e=v(),a=(null===(t=I.navigator)||void 0===t?void 0:t.maxTouchPoints)>0||"ontouchstart"in I.document.documentElement;return this.isUndefined(e)?a:e}))}isTest(){try{return I.isTest}catch(t){return!1}}isLocal(){try{const t=I.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}}isDev(){return this.getOrPutFromCache("isDev",(()=>this.shouldDebug("ph_local")||this.isOOI()&&!1||"true"===(this.safeLocalStorage()||{}).forceDevMode))}isVerbose(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode}isStoreGallery(){return this.getOrPutFromCache("isStoreGallery",(()=>{try{return I.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return this.isDev()&&console.error("cant find window",t),!1}}))}isSSR(){return void 0===(null===a.g||void 0===a.g?void 0:a.g.window)}isOOI(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))}isExternalUrl(t){return/(^https?)|(^data)|(^blob)/.test(t)}isiOS(){return this.getOrPutFromCache("isiOS",(()=>{try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!I.MSStream}catch(t){return!1}}))}isiPhone(){return this.getOrPutFromCache("isiPhone",(()=>{try{return/iPhone/.test(navigator.userAgent)&&!I.MSStream}catch(t){return!1}}))}isLandscape(){return this.getOrPutFromCache("isLandscape",(()=>{if(!this.isMobile())return!1;try{if(this.isUndefined(I.orientation)){const t=I.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===I.orientation||-90===I.orientation}catch(t){return!1}}))}safeLocalStorage(){try{return localStorage||I}catch(t){return I}}shouldDebug(t){try{return!!this.safeLocalStorage()[t]||(I.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}}deviceHasMemoryIssues(){return this.isiOS()}getTabIndex(t){const e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1}setStateAndLog(t,e,a,i){if(this.isVerbose()){console.log(`State Change Called (${e})`,a);const r=Object.assign({},t.state);t.setState(a,(()=>{const a=Object.assign({},t.state),s=this.printableObjectsDiff(r,a,"state");Object.keys(s).length>0&&console.log(`State Change Completed (${e})`,s),this.isFunction(i)&&i.bind(t)()}))}else t.setState(a,(()=>{this.isFunction(i)&&i.bind(t)()}))}printableObjectsDiff(t,e,a=""){const i=t=>(""===t?t="''":this.isUndefined(t)&&(t="undefined"),String(t)),r=(t={},e={},a,s=1)=>{if(s>3)return{};return Object.entries(t).reduce(((t,[o,n])=>(this.isEqual(n,e[o])||(Array.isArray(e[o])?(n.length!==e[o].length&&(t[o+".length"]="["+n.length+"] => ["+e[o].length+"]"),t=Object.assign(t,r(n,e[o],(a?a+".":"")+o,s+1))):"object"==typeof e[o]?t=Object.assign(t,r(n,e[o],(a?a+".":"")+o,s+1)):t[(a?a+".":"")+o]=i(n)+" => "+i(e[o])),t)),{})};return r(t,e,a,1)}getScreenWidth(){if(S()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(I.screen.width,I.screen.height):I.screen.width}catch(t){return 1920}}getScreenHeight(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(I.screen.width,I.screen.height):I.screen.height}catch(t){return 1200}}getWindowWidth(){try{return I.innerWidth||980}catch(t){return 980}}getMobileEnabledClick(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}}getTopUrlParam(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((e=>{const a=e.split("=");return a[0]===t&&a[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]}scrollTo(t,e,a,i,r){this.isMobile()&&(a=0);const s=i?t.scrollLeft:t.scrollTop,o=e-s;let n=0;const l=()=>{n+=20;const e=((t,e,a,i)=>0===i?a+e:(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e)(n,s,o,a);n<a?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof r&&r()),i?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()}formatColor(t){const e="inherit";if(!t)return e;const a=t.value?t.value:t,i=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(a);return i&&i[0]?a:e}logPlaygroundLink(t){try{if(this.isVerbose()){const e=Object.entries(t).filter((([t,e])=>"object"!=typeof e&&-1===String(t).indexOf("Expand")&&-1===String(t).indexOf("Color"))).map((([t,e])=>`${t}=${encodeURI(e)}`)).join("&");console.log("Gallery Playground link:",`https://pro-gallery.surge.sh?${e}`)}}catch(t){console.error(t)}}isSingleItemHorizontalDisplay(t){return t.scrollDirection===Z[x.A.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[x.A.layoutParams.groups.groupSize]&&t[x.A.layoutParams.crop.enable]&&1===t[x.A.layoutParams.crop.ratios].length&&"100%/100%"===t[x.A.layoutParams.crop.ratios][0]}getAriaAttributes({proGalleryRole:t,proGalleryRegionLabel:e}){const a="application"===t?"gallery application":"region",i={role:t||"region","aria-label":e};return(t||"region")!==a&&(i["aria-roledescription"]=a),i}focusGalleryElement(t){t.focus()}isMeaningfulString(t){return"string"==typeof t&&!!t.trim().length}isHeightSetByGallery(t){return t[x.A.layoutParams.structure.scrollDirection]===Z[x.A.layoutParams.structure.scrollDirection].VERTICAL&&!t[x.A.behaviourParams.gallery.vertical.loadMore.enable]}};var $=a(41771);class K{constructor(t){this.uniqueId=q.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.createMagnifiedUrl=this.createMagnifiedUrl.bind(this),this.createSecondMediaItemIfNeeded(t),this.update(t)}createSecondMediaItemIfNeeded(t){var e;(null===(e=t.dto)||void 0===e?void 0:e.secondaryMedia)&&(this.secondaryMediaItem=new K(this.mapItemConfig(t)))}updateSecondaryMedia(t){this.secondaryMediaItem&&this.secondaryMediaItem.update(this.mapItemConfig(t))}mapItemConfig(t){const e={};return Object.assign(e,t.dto.secondaryMedia,t.dto.secondaryMedia.metadata),Object.assign(Object.assign({},t),{dto:e,scheme:Object.assign(Object.assign({},t.scheme),{maxHeight:e.height,maxWidth:e.width})})}update(t){if(this.createMediaUrl=t.createMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,q.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme)this.processScheme(t.scheme);else{const t={};Object.assign(t,this.dto,this.metadata),this.processScheme(new $.q({dto:t}).scheme)}if(this.dto){const t=this.dto.metaData||this.dto.metadata;t&&(this.dto.metaData=q.parseStringObject(t))}this.sharpParams=Object.assign({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=t.thumbnailSize||120,this.resetUrls(),this.updateSharpParams(),this.updateSecondaryMedia(t)}processScheme(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.infoWidth=t.infoWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.infoHeight=t.infoHeight,this.margins=t.margins,this.ratio=t.ratio,this.cropRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||Z.resizeMethods.FILL,this.offset=t.offset,this.group=t.group,this.orientation=t.orientation,this.visibility=t.visibility}renderProps(t){const e=Object.assign({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),a=Object.assign({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,videoPlaceholderUrl:this.videoPlaceholderUrl,url:this.url,alt:this.alt,htmlContent:this.htmlContent,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,createMagnifiedUrl:this.createMagnifiedUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cropRatio:this.cropRatio,isTransparent:this.isTransparent,offset:this.offset,style:e,isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo,hasSecondaryMedia:this.hasSecondaryMedia,scene:this.scene},t);return this.hasSecondaryMedia&&(a.secondaryMediaItem=Object.assign(Object.assign({},this.secondaryMediaItem.renderProps()),{style:Object.assign(Object.assign({},e),{bgColor:this.secondaryMediaItem.bgColor})})),a}getDataForShop(){const t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.processedMediaUrl(Z.resizeMethods.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}}getHighestMp4Resolution(t){const e=t.filter((t=>"mp4"===t.formats[0])),{width:a,height:i}=e.sort(((t,e)=>e.width-t.width))[0];return{width:a,height:i}}processedMediaUrl(t,e,a,i,r=!1){var s;const o=(t,e,a,i,s,o=null,n=null)=>{let l;if("function"==typeof this.createMediaUrl)try{const u=String(q.hashCode(JSON.stringify({url:e,resizeMethod:a,requiredWidth:i,requiredHeight:s,sharpParams:o,focalPoint:n})));this._cachedUrls[u]||(this._cachedUrls[u]=this.createMediaUrl({item:t,originalUrl:e,resizeMethod:a,requiredWidth:i,requiredHeight:s,sharpParams:o,focalPoint:n,createMultiple:r})||""),l=this._cachedUrls[u]}catch(r){console.error("Cannot create url",r,t,e,a,i,s,o,n),l=String(e)}else l=String(e);return l};e=Math.ceil(e),a=Math.ceil(a);const n=t===Z.resizeMethods.FILL&&this.isCropped&&this.focalPoint,l={};let u=this.url;return l[Z.urlTypes.THREE_D]=()=>this.url,this.is3D&&(u=this.poster.url),this.isText?Object.assign({},...Object.values(Z.urlTypes).map((t=>({[t]:()=>""})))):((this.isVideo||this.isVideoPlaceholder)&&(u=null===(s=this.poster)||void 0===s?void 0:s.url,q.isExternalUrl(this.url)?l[Z.urlTypes.VIDEO]=()=>this.url:l[Z.urlTypes.VIDEO]=()=>o(this,this.url,Z.resizeMethods.VIDEO,e,a)),l[Z.urlTypes.HIGH_RES]=()=>o(this,u,t,e,a,i,n),l[Z.urlTypes.LOW_RES]=()=>{const e=this.resizeWidth/this.resizeHeight;return o(this,u,this.cubeImages&&t!==Z.resizeMethods.FIT?Z.resizeMethods.FILL:Z.resizeMethods.FIT,250*e,250,Object.assign(Object.assign({},i),{quality:30,blur:30}),n)},l)}resetUrls(){const t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}}createUrl(t,e){try{return this[t+"_url"][e]()}catch(t){return""}}get cubeTypeResizeMethod(){return{[Z.layoutParams_crop_method.FIT]:Z.resizeMethods.FIT,[Z.layoutParams_crop_method.FILL]:Z.resizeMethods.FILL}[this.cubeType]}createMagnifiedUrl(t=1){if(!this.urls.magnified_url){const{innerWidth:e,innerHeight:a}=this.style;this.urls.magnified_url=this.processedMediaUrl(this.cubeTypeResizeMethod,e*t,a*t,this.sharpParams,!0)}return this.urls.magnified_url[Z.urlTypes.HIGH_RES]()}get resized_url(){return this.urls.resized_url||(this.urls.resized_url=this.processedMediaUrl(this.cubeTypeResizeMethod,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url}get multi_url(){return this.urls.multi_url||(this.urls.multi_url=this.processedMediaUrl(this.cubeTypeResizeMethod,this.resizeWidth,this.resizeHeight,this.sharpParams,!0)),this.urls.multi_url}get scaled_url(){if(!this.urls.scaled_url){const t=this.maxWidth/this.maxHeight,e=this.resizeWidth/this.resizeHeight<t;this.urls.scaled_url=this.processedMediaUrl(Z.resizeMethods.FILL,e?t*this.resizeHeight:this.resizeWidth,e?this.resizeHeight:this.resizeWidth/t,this.sharpParams)}return this.urls.scaled_url}get pixel_url(){return this.urls.pixel_url||(this.urls.pixel_url=this.processedMediaUrl(Z.resizeMethods.FILL,1,1,{quality:90})),this.urls.pixel_url}get thumbnail_url(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.processedMediaUrl(Z.resizeMethods.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url}get square_url(){return this.urls.square_url||(this.urls.square_url=this.processedMediaUrl(Z.resizeMethods.FILL,100,100,{quality:80})),this.urls.square_url}get full_url(){return this.urls.full_url||(this.urls.full_url=this.processedMediaUrl(Z.resizeMethods.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url}get sample_url(){return this.urls.sample_url||(this.urls.sample_url=this.processedMediaUrl(Z.resizeMethods.FIT,500,500,this.sharpParams)),this.urls.sample_url}get preload_url(){return this.urls.preload_url||(this.urls.preload_url=this.processed_url),this.urls.preload_url}get download_url(){return this.createDownloadUrl(this.full_url)}get download_sample_url(){return this.createDownloadUrl(this.sample_url)}createDownloadUrl(t){return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=()=>{const t=this.urls.download_url._img();return t+(t.includes("?")?"&":"?")+`dn=${this.fileName}`}),this.urls.download_url}updateSharpParams(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){const t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}}get hasSecondaryMedia(){return!!this.secondaryMediaItem}get itemId(){return this.id}updateId(t){this.dto.itemId=this.id=t}get metadata(){let t=this.dto.metaData||this.dto.metadata;return q.isUndefined(t)&&(t={}),t}get metaData(){return this.metadata}get bgColor(){let t;return t=this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none",t}get isCropped(){return this.cubeImages&&this.cubeTypeResizeMethod===Z.resizeMethods.FILL}get focalPoint(){return this.metadata.focalPoint||[.5,.5]}set focalPoint(t){this.metadata.focalPoint=t}get photoId(){return this.id}get key(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key}get orderIndex(){return this.dto.orderIndex||this.dto.o||0}set orderIndex(t){this.dto.orderIndex=t}updateOrderIndex(t){const e=this.orderIndex!==t;return this.orderIndex=t,e}get url(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src||""}get mediaUrl(){return this.url}get html(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text}get lastModified(){return this.metadata.lastModified}get seed(){return q.hashToInt(this.url)}get isImage(){return"image"===this.type}get isImportant(){return!!this.dto.i}get videoUrl(){return this.metadata.videoUrl}get poster(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1]:null)}get scene(){return this.metadata.scene}get qualities(){return this.metadata.qualities}get isExternalVideo(){return this.metadata.isExternal}get isExternal(){return!0===this.metadata.isExternal}set type(t){this._type=t}get type(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"3d":return"3d";default:return"image"}}get isVideoPlaceholder(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)}get videoPlaceholderUrl(){return this.dto.videoPlaceholderUrl||this.metadata.videoPlaceholderUrl||this.dto.media_videoPlaceholderUrl}get htmlContent(){var t;return null===(t=this.html)||void 0===t?void 0:t.replace(/<[^<>]*>/g,"").trim()}get alt(){return q.isMeaningfulString(this.metadata.alt)&&this.metadata.alt||""}set alt(t){this.metadata.alt=t}get title(){return this.metadata.title||""}set title(t){this.metadata.title=t}get fileName(){return this.metadata.fileName||""}set fileName(t){this.metadata.fileName=t}get description(){return this.metadata.description||""}set description(t){this.metadata.description=t}get exif(){return this.metadata.exif||""}get hasLink(){return"wix"===this.linkType?!!this.linkData.type:!!this.linkUrl}get link(){return this.metadata.link||{}}get linkData(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}}set linkData(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t}get linkType(){return this.metadata.link&&!q.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"}set linkType(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}}get defaultLinkText(){const t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return`Go to Page ${t.pageName}`;case"AnchorLink":return`Scroll to ${t.anchorName}`;case"ExternalLink":return`${t.url}`;case"EmailLink":return`Email ${t.recipient}`;case"PhoneLink":return`Call ${t.phoneNumber}`;case"DocumentLink":return`Open ${t.name}`;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}}get defaultLinkValue(){const t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?`PAGE - ${t.pageName}`:"PAGE";case"AnchorLink":return`ANCHOR - ${t.anchorName}`;case"ExternalLink":return`LINK - ${t.url}`;case"EmailLink":return`EMAIL - ${t.recipient}`;case"PhoneLink":return`PHONE - ${t.phoneNumber}`;case"DocumentLink":return`DOCUMENT - ${t.name}`;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}}get linkText(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText}set linkText(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t}get linkTitle(){return this.metadata.link&&this.metadata.link.title}set linkTitle(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t}get linkUrl(){return this.metadata.link&&this.metadata.link.url}set linkUrl(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t}get isWixUrl(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")}get linkTitleFromUrl(){const t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]}get unprotectedLinkOpenType(){return q.get(this,"metadata.link.target")}get linkOpenType(){return this.metadata.link&&!q.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!q.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"}set linkOpenType(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t}get initialLinkObject(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}}get isDemo(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0}set isDemo(t){this.metadata.isDemo=t}get isText(){return"text"===this.type}get isVideo(){return"video"===this.type}get is3D(){return"3d"===this.type}get isVisible(){return!0}get isRendered(){return!0}get isDimensionless(){return!(this.maxWidth>1||this.maxHeight>1)}get isTransparent(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)}get webLink(){var t;return(null===(t=this.linkUrl)||void 0===t?void 0:t.length)>0&&"web"===this.linkType?{url:this.linkUrl,target:this.linkOpenType}:{}}get directLink(){return this.dto.directLink||this.webLink||{}}get directShareLink(){return this.dto.directShareLink||""}}const X=K;var J=a(7445);const Q=class{constructor(t){this.uniqueId=q.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,q.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new J.Y({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}processScheme(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required}renderProps(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}}get key(){return"group_"+this.id}};class tt{static convertDtoToLayoutItem(t){if(!!(t.id&&t.width>0&&t.height>0))return t;{const e=t.metadata||t.metaData,a="object"==typeof e?e:q.parseStringObject(e)||{};return Object.assign({id:t.itemId||t.photoId,width:a.width,height:a.height},t)}}static convertToGalleryItems(t,e={},a=[]){t.galleryItems=[];for(let i=0;i<t.columns.length;i++){const r=t.columns[i];r.galleryGroups=[];const s=r.groups||r;for(let i=0;i<s.length;i++){const o=s[i],n=[];for(let i=0;i<o.items.length;i++){const r=o.items[i],s=Object.assign({scheme:r,dto:r.dto},e),l=a[r.idx];let u;l&&l.id&&l.id===r.id?(u=l,u.update(s)):u=new X(s),n[i]=u,t.galleryItems[r.idx]=n[i]}r.galleryGroups[i]=new Q({scheme:o,dto:o.dto,items:n})}}return t}static convertExistingStructureToGalleryItems(t,e,a={}){q.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);const i=t.columns.slice(-1)[0].galleryGroups.pop();i&&t.galleryItems.splice(-i.items.length);for(let i=0;i<e.columns.length;i++){const r=e.columns[i],s=t.columns[i]||r;s.galleryGroups||(s.galleryGroups=[]);const o=r.groups||r;for(let e=0;e<o.length;e++){const i=o[e],r=[];for(let e=0;e<i.items.length;e++){const s=i.items[e];t.galleryItems[s.idx]?t.galleryItems[s.idx].processScheme(s):(r[e]=new X(Object.assign({scheme:s,dto:s.dto},a)),t.galleryItems[s.idx]=r[e])}s.galleryGroups[e]?s.galleryGroups[e].processScheme(i):s.galleryGroups[e]=new Q({scheme:i,dto:i.dto,items:r})}r.galleryGroups=s.galleryGroups}return e.galleryItems=t.galleryItems,q.isVerbose()&&console.timeEnd("convertToGalleryItems"),e}}},7445:(t,e,a)=>{"use strict";a.d(e,{Y:()=>l});var i=a(29951),r=a(41771);const s={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},o={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},n={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]};class l{constructor(t){if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.targetItemSize=t.targetItemSize,this.items=t.items.map((t=>(t.Group=this,t))),t.styleParams){const{styleParams:e}=t;this.scrollDirection=e[i.A.layoutParams.structure.scrollDirection],this.cubeType=e[i.A.layoutParams.crop.method],this.cubeImages=e[i.A.layoutParams.crop.enable],this.layoutOrientation=e[i.A.layoutParams.structure.layoutOrientation],this.minItemSize=e[i.A.layoutParams.targetItemSize.minimum],this.collageDensity=e[i.A.layoutParams.groups.density],this.groupTypes=String(e[i.A.layoutParams.groups.allowedGroupTypes]),this.repeatingGroupTypes=String(e[i.A.layoutParams.groups.repeatingGroupTypes]),this.rotatingCropRatios=e[i.A.layoutParams.crop.ratios],this.chooseBestGroup=e[i.A.layoutParams.groups.groupByOrientation],this.externalInfoHeight=e.externalInfoHeight,this.externalInfoWidth=e.externalInfoWidth,this.imageMargin=e[i.A.layoutParams.structure.itemSpacing],this.groupSize=e[i.A.layoutParams.groups.groupSize]}this.visible=!0,this.rendered=!0,this.required=!0;let e=this.items.length;for(;!this.isWithinMinItemSize&&e>0;)this.placeItems(e),this.resize(),e--}resize(){"VERTICAL"===this.layoutOrientation?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)}safeGetItem(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];{const e=new r.q(Object.assign({},this.items[this.items.length-1].config));return e.idx=e.config.idx+t-(this.items.length-1),e.type="dummy",this.dummyItems[t]=e,e}}setCubedHeight(t){const e=this.cubeImages&&1===this.groupSize&&["FILL","FIT"].includes(this.cubeType)&&0===this.repeatingGroupTypes.length&&this.rotatingCropRatios.length<2;this.cubedHeight=e?t:null}round(){this.isLastGroup&&"VERTICAL"===this.scrollDirection?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(const t of this.items)t.width=Math.round(t.width),t.height=Math.round(t.height),t.group={width:this.width,height:this.height};const t=this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-t,this.safeGetItem(0).height=this.height-t;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-t,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-t,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t;break;case"3t":this.safeGetItem(0).width=this.width-t,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*t,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(2).width=this.width-t;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*t,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(0).height=this.height-t;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(2).height=this.height-t;break;case"3v":this.safeGetItem(0).width=this.width-t,this.safeGetItem(1).width=this.width-t,this.safeGetItem(2).width=this.width-t,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*t;break;case"3h":this.safeGetItem(0).height=this.height-t,this.safeGetItem(1).height=this.height-t,this.safeGetItem(2).height=this.height-t,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*t}}getGroupType(t){if(this.repeatingGroupTypes){const t=String(this.repeatingGroupTypes).split(",");return t[this.idx%t.length]}{const e="VERTICAL"===this.layoutOrientation;let a;if(this.chooseBestGroup){const t=this.items.map((t=>t.orientation.slice(0,1))).join("");a=(e?s:o)[t]}else 3!==this.items.length&&3!==t||(a=e?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(a=e?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(a="1");let i=a.length>0?a.split(","):[];if(this.groupTypes){const t=this.groupTypes.split(",");t.length>1?(i=i.filter((e=>t.indexOf(e)>=0)),0===i.length&&(i=["1"])):i=t}if(this.collageDensity>=0){const t=this.collageDensity,e=parseInt(i[i.length-1]),a=n[e],r=a[Math.floor(t*(a.length-1))];i=i.filter((t=>r.indexOf(parseInt(t))>=0)),0===i.length&&(i=["1"])}return i[this.calculateRandomSeed(i.length)]||"1"}}calculateRandomSeed(t){let e;return e="VERTICAL"===this.layoutOrientation?this.items[0].seed%t:(this.inStripIdx+this.stripIdx)%t,Math.round(Math.min(Math.max(0,e),t-1))}placeItems(t){this.type=this.getGroupType(t);let e,a=[],i=0,r=0;switch(this.type){default:case"1":e=this.safeGetItem(0),e.pinToCorner("top-left"),a.push(e),i=e.width,r=e.height;break;case"2v":e=this.safeGetItem(0),e.pinToCorner("top-left"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(1),e.pinToCorner("bottom-left"),e.resize(i/e.width),r+=e.height,a.push(e);break;case"2h":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.innerOffset=[0,0],a.push(e),i=e.width,r=e.height,e=this.safeGetItem(1),e.pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(r/e.height),i+=e.width,a.push(e);break;case"3b":e=this.safeGetItem(0),e.pinToCorner("top-left"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(1),e.pinToCorner("top-right"),e.resize(r/e.height),i+=e.width,a.push(e),e=this.safeGetItem(2),e.pinToCorner("bottom-left"),e.resize(i/e.width),r+=e.height,a.push(e);break;case"3t":e=this.safeGetItem(1),e.pinToCorner("bottom-left"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-right"),e.resize(r/e.height),i+=e.width,a.push(e),e=this.safeGetItem(0),e.pinToCorner("top-left"),e.resize(i/e.width),r+=e.height,a=[e].concat(a);break;case"3r":e=this.safeGetItem(0),e.pinToCorner("top-left"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(1),e.pinToCorner("bottom-left"),e.resize(i/e.width),r+=e.height,a.push(e),e=this.safeGetItem(2),e.pinToCorner("top-right"),e.resize(r/e.height),i+=e.width,a.push(e);break;case"3l":e=this.safeGetItem(1),e.pinToCorner("top-right"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-right"),e.resize(i/e.width),r+=e.height,a.push(e),e=this.safeGetItem(0),e.pinToCorner("top-left"),e.resize(r/e.height),i+=e.width,a=[e].concat(a);break;case"3v":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.setPosition("relative"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(i/e.width),r+=e.height,a.push(e),e=this.safeGetItem(1),e.setPosition("relative"),e.resize(i/e.width),r+=e.height,e.pinToCorner("top",a[0]),a=[a[0],e,a[1]];break;case"3h":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.setPosition("relative"),a.push(e),i=e.width,r=e.height,e=this.safeGetItem(2),e.pinToCorner("top-right"),e.setPosition("relative"),e.resize(r/e.height),i+=e.width,a.push(e),e=this.safeGetItem(1),e.setPosition("relative"),e.resize(r/e.height),i+=e.width,e.pinToCorner("left",a[0]),a=[a[0],e,a[1]]}this.width=i,this.height=r,this.items=a,this.placed=!0}resizeToHeight(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()}resizeToWidth(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()}resizeItems(){const t=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;t.forEach(((e,a)=>{e.resize(this.getItemDimensions(t,a)),e.group={top:this.top,left:this.left,width:this.width,height:this.height},e.groupOffset={bottom:this.top+this.height,right:this.left+this.width}}))}getItemDimensions(t,e){const a=this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-a};case"2h":case"3h":return{height:this.height-a};case"3t":case"3b":if(0===e){return{width:this.width-a}}return{height:this.height-t[0].height-2*a};case"3r":case"3l":if(0===e){return{height:this.height-a}}return{width:this.width-t[0].width-2*a}}}getHeightByWidth(t){let e=1,a=1;const i=this.imageMargin,r=this.items.map((t=>t.width/t.height));switch(this.type){default:case"1":e=1/r[0],a=1-e;break;case"2h":e=1/(r[0]+r[1]),a=1-2*e;break;case"2v":e=1/r[0]+1/r[1],a=2-e;break;case"3h":e=1/(r[0]+r[1]+r[2]),a=1-3*e;break;case"3v":e=1/r[0]+1/r[1]+1/r[2],a=3-e;break;case"3t":e=1/(r[2]+r[1])+1/r[0],a=2-2/(r[2]+r[1])+1/r[0];break;case"3b":e=1/(r[0]+r[1])+1/r[2],a=2-2/(r[0]+r[1])+1/r[2];break;case"3l":e=(r[1]+r[2])/(r[0]*r[1]+r[1]*r[2]+r[0]*r[2]),a=2-e*(2+r[0]);break;case"3r":e=(r[0]+r[1])/(r[0]*r[1]+r[1]*r[2]+r[0]*r[2]),a=2-e*(2+r[2])}return t*e+i*a}getWidthByHeight(t){let e=1,a=1;const i=this.imageMargin,r=this.items.map((t=>t.width/t.height));switch(this.type){default:case"1":e=r[0],a=1-e;break;case"2h":e=r[0]+r[1],a=2-e;break;case"2v":e=1/(1/r[0]+1/r[1]),a=1-2*e;break;case"3h":e=r[0]+r[1]+r[2],a=3-e;break;case"3v":e=1/(1/r[0]+1/r[1]+1/r[2]),a=1-3*e;break;case"3t":e=1/(1/(r[2]+r[1])+1/r[0]),a=(2/(r[2]+r[1])+1/r[0]-2)*e;break;case"3b":e=1/(1/(r[0]+r[1])+1/r[2]),a=(2/(r[0]+r[1])+1/r[2]-2)*e;break;case"3l":e=(r[0]*r[1]+r[1]*r[2]+r[0]*r[2])/(r[1]+r[2]),a=2+r[0]-2*e;break;case"3r":e=(r[0]*r[1]+r[1]*r[2]+r[0]*r[2])/(r[0]+r[1]),a=2+r[2]-2*e}return t*e+i*a}setTop(t){this.top=t||0;for(const e of this.items)e.groupOffset={top:t,bottom:t+this.height}}setLeft(t){this.left=t||0;for(const e of this.items)e.groupOffset={left:t,right:t+this.width}}get id(){return"g"+this.idx+"_"+(this.items[0]||{}).id}get ratio(){return this.width/this.height}get height(){return this.cubedHeight||this._height}set height(t){this._height=t}get totalHeight(){return this.height+this.infoHeight}get infoHeight(){return this.externalInfoHeight||0}get infoWidth(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0}get bottom(){return this.top+this.height}get right(){return this.left+this.width}set items(t){this._items=t}get items(){return this._items}get realItems(){return this._items.filter((t=>"dummy"!==t.type))}get isWithinMinItemSize(){return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce(((t,e)=>{const a=Math.min(e.width,e.height)>=this.minItemSize;return t&&a}),!0))}get scheme(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((t=>t.scheme)),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}}}},41771:(t,e,a)=>{"use strict";a.d(e,{q:()=>s});var i=a(29951),r=a(35579);class s{constructor(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="FILL",t.styleParams){const{styleParams:e}=t;this.cubeType=e[i.A.layoutParams.crop.method],this.cubeImages=e[i.A.layoutParams.crop.enable],this._cropRatio=e[i.A.layoutParams.crop.ratios],this.rotatingCropRatios=e[i.A.layoutParams.crop.ratios].length>1&&e[i.A.layoutParams.crop.ratios],this.smartCrop=e[i.A.layoutParams.crop.enableSmartCrop],this.cropOnlyFill=e[i.A.layoutParams.crop.cropOnlyFill],this.imageMargin=e[i.A.layoutParams.structure.itemSpacing],this.gallerySpacing=e[i.A.layoutParams.structure.gallerySpacing],this.scatter=e[i.A.layoutParams.structure.scatter.randomScatter],this.rotatingScatter=e[i.A.layoutParams.structure.scatter.manualScatter],this.smartCrop=e[i.A.layoutParams.crop.enableSmartCrop],this.useMaxDimensions=!e[i.A.layoutParams.structure.enableStreching]&&"text"!==this.itemType,this.cubeFitPosition=e[i.A.layoutParams.crop.alignment]}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=()=>0,this.resize(1)}fixMetadataVerticalVideoRatio(t){if(t.qualities&&t.qualities[0]){const{qualities:e}=t,{height:a,width:i}=e[e.length-1];t.height=a,t.width=i}}resize(t){let e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t)if(t.width){e=Math.max(1,t.width)/this.width}else if(t.height){e=Math.max(1,t.height)/this.height}return this.width*=e,this.height*=e,this.resized=!0,this}}pinToCorner(t,e=!1){const a=t.indexOf("top")>=0,i=t.indexOf("left")>=0;this.style.top=a?0:"auto",this.style.bottom=a?"auto":0,this.style.left=i?0:"auto",this.style.right=i?"auto":0,this.pin=t,this.isPinnedTop=a,this.isPinnedLeft=i,this.pinAfter=e,this.pinAfterType=a?"top":i?"left":"",this.calcPinOffset=(t,e)=>{if(this.pinAfter){if(this.pin===e){const t=this.imageMargin/2;return"top"===e?this.pinAfter.height+2*t:"left"===e?this.pinAfter.width+2*t:0}return 0}return 0}}setPosition(t){this.style.position=t}getPosition(t){return parseInt(t,10)>=0?t:"auto"}calcScatter(t){const e=this.imageMargin/2,a=this.gallerySpacing,i=t.left>0?e:a,s=this.container.galleryWidth-t.right>2*e?e:a,o=t.top>0?e:a,n=this.container.galleryHeight-t.bottom>2*e?e:a;if(!(this.rotatingScatter.length>0)){if(this.scatter>0){const e=this.scatter/100*.4;let a=r.W.hashToRandomInt(this.seed+t.right+"x",-i,s);a*=this.scatter/100,a*=1-e,a+=(a>0?e*s:e*i)*Math.sign(a),a=Math.round(a);let l=r.W.hashToRandomInt(this.seed+t.right+"y",-o,n);return l*=this.scatter/100,l*=1-e,l+=(l>0?e*n:e*o)*Math.sign(l),l=Math.round(l),{x:a,y:l}}return{x:0,y:0}}try{const t=this.rotatingScatter.split(","),[e,a]=t[this.idx%t.length].split("/").map((t=>parseInt(t))).map((t=>t/100));return{x:e*(e>0?s:i),y:a*(a>0?n:o)}}catch(t){console.error("Cannot calculate rotating scatter",t)}}get top(){return this.getPosition(this.style.top)}get left(){return this.getPosition(this.style.left)}get right(){return this.getPosition(this.style.right)}get bottom(){return this.getPosition(this.style.bottom)}set group(t){Object.assign(this._group,t)}get group(){return this._group}set groupOffset(t){Object.assign(this._groupOffset,t)}get offset(){var t;const e={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0},{fixTop:a=0,fixLeft:i=0,fixRight:r=0,fixBottom:s=0}=this.dimensions;if(e.innerTop=a,e.innerLeft=i,e.innerRight=r,e.innerBottom=s,e.right=e.left+this.width,e.bottom=e.top+this.height,this.scatter>0||(null===(t=this.rotatingScatter)||void 0===t?void 0:t.length)>0){const{x:t,y:a}=this.calcScatter(e);e.left+=t,e.top+=a,e.right=e.left+this.width,e.bottom=e.top+this.height}return e}get id(){return this.dto.id||this.dto.photoId||this.dto.itemId}set id(t){this.dto.itemId=this.dto.photoId=this.dto.id=t}get hash(){return this.dto.hash||this.dto.mediaUrl||this.dto.id}get seed(){return this.dto.seed||r.W.hashToInt(this.hash)}get metadata(){return this.dto.metadata||this.dto.metaData||{}}get itemType(){return this.metadata.type||"image"}get maxWidth(){return this.dto.width||this.dto.w}set maxWidth(t){this.dto.width=t}get outerWidth(){return this.width+2*this.margins}get infoWidth(){return this.Group?this.Group.infoWidth:0}get orgWidth(){return this.style.orgWidth||this.dto.width||this.dto.w||1}get width(){let t;return t=this.cubeImages&&this.ratio>=this.cropRatio?this.style.cubedWidth||this.orgHeight*this.cropRatio:this.orgWidth,Math.max(t,1)}set width(t){this.style.cubedWidth=this.style.orgWidth=this.style.width=Math.max(1,t);const{fixLeft:e=0,fixRight:a=0}=this.dimensions;this.style.innerWidth=this.style.width-e-a}get outerHeight(){return this.height+2*this.margins}get orgHeight(){return this.style.orgHeight||this.dto.height||this.dto.h||1}get height(){let t;return t=this.cubeImages&&this.ratio<this.cropRatio?this.style.cubedHeight||this.orgWidth/this.cropRatio:this.orgHeight,Math.max(t,1)}set height(t){this.style.cubedHeight=this.style.orgHeight=this.style.height=Math.max(1,t);const{fixTop:e=0,fixBottom:a=0}=this.dimensions;this.style.innerHeight=this.style.height-a-e}get maxHeight(){return this.dto.height||this.dto.h}set maxHeight(t){this.dto.height}get infoHeight(){return this.Group?this.Group.infoHeight:0}get margins(){return this.imageMargin/2||0}set margins(t){this.imageMargin=t}get dimensions(){const t=this.cubeImages&&"FIT"===this.cubeType;let e=this.width,a=this.height;const i=(t,i)=>{t?(e=this.useMaxDimensions?Math.min(this.width,this.maxWidth):this.width,a=e/i):(a=this.useMaxDimensions?Math.min(this.height,this.maxHeight):this.height,e=a*i)},r=this.ratio>=this.cropRatio;t?i(r,this.ratio):this.useMaxDimensions&&(this.width>this.maxWidth||this.height>this.maxHeight)&&(this.cubeImages?i(!r,this.cropRatio):i(!r,this.ratio));let s={fixTop:(this.height-a)/2,fixLeft:(this.width-e)/2,fixRight:(this.width-e)/2,fixBottom:(this.height-a)/2};switch(this.cubeFitPosition){case"TOP":s.fixTop=0,s.fixBottom*=2;break;case"BOTTOM":s.fixTop*=2,s.fixBottom=0;break;case"LEFT":s.fixLeft=0,s.fixRight*=2;break;case"RIGHT":s.fixLeft*=2,s.fixRight=0}return s}get cropRatio(){let t;if(this.rotatingCropRatio)t=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>1){const e=this.rotatingCropRatios;t=this.rotatingCropRatio=e[this.idx%e.length]}if(t||"function"!=typeof this._cropRatio||(t=this._cropRatio()),!t&&this.cropOnlyFill&&"FIT"===this.cubeType&&(t=this.ratio),t||(t=this._cropRatio&&this._cropRatio[0]||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){const e=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=e?t.split("/").map(((t,e)=>t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))})):null}if(this.dynamicCropRatios){const e=this.dynamicCropRatios.map((t=>{if("%"===t.type){const e=this.container[t.dim]+("galleryHeight"===t.dim?this.imageMargin/2:0);return t.val*e-this.imageMargin}return t.val}));t=e[0]/e[1]}}return t=Number(t),!0===this.smartCrop&&(t=this.isPortrait?Math.min(t,1/t):Math.max(t,1/t)),"MIN"===this.cubeType?t=Math.max(t,this.orgRatio):"MAX"===this.cubeType&&(t=Math.min(t,this.orgRatio)),t}set cropRatio(t){"number"==typeof this._cropRatio&&(this._cropRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)}get orientation(){return this.ratio<.999?"portrait":"landscape"}get isPortrait(){return"portrait"===this.orientation}get isLandscape(){return"landscape"===this.orientation}get ratio(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio}set ratio(t){this.orgRatio=t}get roundedStyle(){return Object.assign(Object.assign({},this.style),{width:Math.round(this.style.width),height:Math.round(this.style.height)})}get scheme(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,roundedStyle:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,dimensions:this.dimensions,cropRatio:this.cropRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}}}},35579:(t,e,a)=>{"use strict";a.d(e,{W:()=>r});var i=a(29951);const r=new class{constructor(){this._hash2int={}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashToInt(t,e,a){let i=0;if(void 0===t||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return void 0===e||void 0===a?this._hash2int[t]:this._hash2int[t]%(a-e+1)+e}hashToRandomInt(t,e=0,a=1e5){return void 0===t||0===t.length?0:(e=Math.round(e),a=Math.round(a),t+=t.length+e+a,this._hash2int[t]||(this._hash2int[t]=Math.round(Math.random()*(a-e)+e)),this._hash2int[t])}addDefaultStyleParams(t){const e={[i.A.layoutParams.structure.gallerySpacing]:0,[i.A.layoutParams.groups.repeatingGroupTypes]:[],[i.A.layoutParams.crop.enable]:!1,[i.A.layoutParams.crop.method]:"FILL",[i.A.layoutParams.crop.ratios]:[1],[i.A.layoutParams.crop.enableSmartCrop]:!1,[i.A.layoutParams.structure.itemSpacing]:10,[i.A.layoutParams.structure.scatter.randomScatter]:0,[i.A.layoutParams.structure.scatter.manualScatter]:"",[i.A.layoutParams.groups.groupByOrientation]:!0,[i.A.layoutParams.groups.groupSize]:3,[i.A.layoutParams.groups.allowedGroupTypes]:["1","2h","2v","3h","3v","3t","3b","3l","3r"],[i.A.layoutParams.structure.layoutOrientation]:"VERTICAL",[i.A.layoutParams.targetItemSize.minimum]:120,[i.A.layoutParams.structure.scrollDirection]:"VERTICAL",targetItemSize:500,[i.A.layoutParams.groups.density]:50,fixedColumns:0,[i.A.layoutParams.structure.columnRatios]:[]};return function(t){const a=Object.assign({},e,t);return Object.keys(a).forEach((t=>{void 0===a[t]&&(a[t]=e[t])})),a}(t)}convertContainer(t,e){const a=Object.assign({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(a.galleryWidth=t.width+2*((e[i.A.layoutParams.structure.itemSpacing]/2||0)-(e[i.A.layoutParams.structure.gallerySpacing]||0)),delete a.width),t.height>=0&&!(t.galleryHeight>=0)&&(a.galleryHeight=t.height+((e[i.A.layoutParams.structure.itemSpacing]/2||0)-(e[i.A.layoutParams.structure.gallerySpacing]||0)),delete a.height),e.externalInfoHeight>=0&&"HORIZONTAL"===e[i.A.layoutParams.structure.scrollDirection]&&(a.galleryHeight-=e.externalInfoHeight),a}}},29951:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i={layoutParams:{groups:{density:"layoutParams_groups_density",groupByOrientation:"layoutParams_groups_groupByOrientation",numberOfGroupsPerRow:"layoutParams_groups_numberOfGroupsPerRow",allowedGroupTypes:"layoutParams_groups_allowedGroupTypes",repeatingGroupTypes:"layoutParams_groups_repeatingGroupTypes",groupSize:"layoutParams_groups_groupSize"},crop:{method:"layoutParams_crop_method",alignment:"layoutParams_crop_alignment",enable:"layoutParams_crop_enable",enableSmartCrop:"layoutParams_crop_enableSmartCrop",cropOnlyFill:"layoutParams_crop_cropOnlyFill",ratios:"layoutParams_crop_ratios"},structure:{galleryLayout:"layoutParams_structure_galleryLayout",galleryRatio:{value:"layoutParams_structure_galleryRatio_value",includeExternalInfo:"layoutParams_structure_galleryRatio_includeExternalInfo"},enableStreching:"layoutParams_structure_enableStreching",gallerySpacing:"layoutParams_structure_gallerySpacing",itemSpacing:"layoutParams_structure_itemSpacing",scrollDirection:"layoutParams_structure_scrollDirection",numberOfColumns:"layoutParams_structure_numberOfColumns",numberOfGridRows:"layoutParams_structure_numberOfGridRows",responsiveMode:"layoutParams_structure_responsiveMode",columnRatios:"layoutParams_structure_columnRatios",scatter:{randomScatter:"layoutParams_structure_scatter_randomScatter",manualScatter:"layoutParams_structure_scatter_manualScatter"},layoutOrientation:"layoutParams_structure_layoutOrientation",groupsOrder:"layoutParams_structure_groupsOrder"},thumbnails:{enable:"layoutParams_thumbnails_enable",position:"layoutParams_thumbnails_position",spacing:"layoutParams_thumbnails_spacing",marginToGallery:"layoutParams_thumbnails_marginToGallery",size:"layoutParams_thumbnails_size",alignment:"layoutParams_thumbnails_alignment"},navigationArrows:{enable:"layoutParams_navigationArrows_enable",size:"layoutParams_navigationArrows_size",padding:"layoutParams_navigationArrows_padding",position:"layoutParams_navigationArrows_position",verticalAlignment:"layoutParams_navigationArrows_verticalAlignment",type:"layoutParams_navigationArrows_type",container:{type:"layoutParams_navigationArrows_container_type",borderRadius:"layoutParams_navigationArrows_container_borderRadius",backgroundColor:"layoutParams_navigationArrows_container_backgroundColor"},mouseCursorContainerMaxWidth:"layoutParams_navigationArrows_mouseCursorContainerMaxWidth"},info:{sizeUnits:"layoutParams_info_sizeUnits",width:"layoutParams_info_width",height:"layoutParams_info_height",spacing:"layoutParams_info_spacing",layout:"layoutParams_info_layout",border:{width:"layoutParams_info_border_width",color:"layoutParams_info_border_color",radius:"layoutParams_info_border_radius"},placement:"layoutParams_info_placement"},targetItemSize:{unit:"layoutParams_targetItemSize_unit",value:"layoutParams_targetItemSize_value",minimum:"layoutParams_targetItemSize_minimum"}},behaviourParams:{item:{clickAction:"behaviourParams_item_clickAction",video:{speed:"behaviourParams_item_video_speed",volume:"behaviourParams_item_video_volume",loop:"behaviourParams_item_video_loop",playTrigger:"behaviourParams_item_video_playTrigger",enablePlayButton:"behaviourParams_item_video_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_video_enableThumbnailsPlayButton",enableControls:"behaviourParams_item_video_enableControls",enablePlaceholder:"behaviourParams_item_video_enablePlaceholder"},threeDimensionalScene:{transform:{rotation:"behaviourParams_item_threeDimensionalScene_transform_rotation",scale:"behaviourParams_item_threeDimensionalScene_transform_scale",position:"behaviourParams_item_threeDimensionalScene_transform_position"},controls:{enableZoom:"behaviourParams_item_threeDimensionalScene_controls_enableZoom",enableRotate:"behaviourParams_item_threeDimensionalScene_controls_enableRotate",enablePan:"behaviourParams_item_threeDimensionalScene_controls_enablePan",enableAutoRotate:"behaviourParams_item_threeDimensionalScene_controls_enableAutoRotate"},enablePlayButton:"behaviourParams_item_threeDimensionalScene_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_threeDimensionalScene_enableThumbnailsPlayButton",playTrigger:"behaviourParams_item_threeDimensionalScene_playTrigger"},overlay:{hoveringBehaviour:"behaviourParams_item_overlay_hoveringBehaviour",hoverAnimation:"behaviourParams_item_overlay_hoverAnimation",position:"behaviourParams_item_overlay_position",size:"behaviourParams_item_overlay_size",sizeUnits:"behaviourParams_item_overlay_sizeUnits",padding:"behaviourParams_item_overlay_padding",backgroundColor:"behaviourParams_item_overlay_backgroundColor"},content:{hoverAnimation:"behaviourParams_item_content_hoverAnimation",placementAnimation:"behaviourParams_item_content_placementAnimation",loader:"behaviourParams_item_content_loader",magnificationValue:"behaviourParams_item_content_magnificationValue",tiltAngleValue:"behaviourParams_item_content_tiltAngleValue"},secondaryMedia:{trigger:"behaviourParams_item_secondaryMedia_trigger",behaviour:"behaviourParams_item_secondaryMedia_behaviour"}},gallery:{layoutDirection:"behaviourParams_gallery_layoutDirection",blockContextMenu:"behaviourParams_gallery_blockContextMenu",scrollAnimation:"behaviourParams_gallery_scrollAnimation",enableIndexingShareLinks:"behaviourParams_gallery_enableIndexingShareLinks",vertical:{loadMore:{enable:"behaviourParams_gallery_vertical_loadMore_enable",amount:"behaviourParams_gallery_vertical_loadMore_amount",text:"behaviourParams_gallery_vertical_loadMore_text"}},horizontal:{enableScrollSnap:"behaviourParams_gallery_horizontal_enableScrollSnap",slideAnimation:"behaviourParams_gallery_horizontal_slideAnimation",slideTransition:"behaviourParams_gallery_horizontal_slideTransition",blockScroll:"behaviourParams_gallery_horizontal_blockScroll",navigationDuration:"behaviourParams_gallery_horizontal_navigationDuration",loop:"behaviourParams_gallery_horizontal_loop",autoSlide:{behaviour:"behaviourParams_gallery_horizontal_autoSlide_behaviour",interval:"behaviourParams_gallery_horizontal_autoSlide_interval",pauseOnHover:"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",speed:"behaviourParams_gallery_horizontal_autoSlide_speed"},slideshowInfo:{buttonsAlignment:"behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",enableCounter:"behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",enablePlayButton:"behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"}}}},stylingParams:{arrowsColor:"stylingParams_arrowsColor",itemShadowBlur:"stylingParams_itemShadowBlur",itemShadowDirection:"stylingParams_itemShadowDirection",itemShadowOpacityAndColor:"stylingParams_itemShadowOpacityAndColor",itemShadowSize:"stylingParams_itemShadowSize",itemEnableShadow:"stylingParams_itemEnableShadow",itemBorderRadius:"stylingParams_itemBorderRadius",itemBorderWidth:"stylingParams_itemBorderWidth",itemBorderColor:"stylingParams_itemBorderColor",itemResolutionMode:"stylingParams_itemResolutionMode"}}},85239:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i=()=>{let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}))}},55486:function(t){t.exports=function(t){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(i,r,function(e){return t[e]}.bind(null,r));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=15)}([function(t,e,a){"use strict";var i={JPG:"jpg",JPEG:"jpeg",PNG:"png",WEBP:"webp",WIX_ICO_MP:"wix_ico_mp",WIX_MP:"wix_mp",GIF:"gif",SVG:"svg",UNRECOGNIZED:"unrecognized"},r=[i.JPG,i.JPEG,i.PNG,i.GIF,i.WEBP];t.exports={alignTypes:{CENTER:"center",TOP:"top",TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",LEFT:"left",RIGHT:"right"},alignTypesMap:{center:"c",top:"t",top_left:"tl",top_right:"tr",bottom:"b",bottom_left:"bl",bottom_right:"br",left:"l",right:"r"},transformTypes:{FIT:"fit",FILL:"fill",FILL_FOCAL:"fill_focal",CROP:"crop",LEGACY_CROP:"legacy_crop",LEGACY_FILL:"legacy_fill"},fittingTypes:{SCALE_TO_FILL:"fill",SCALE_TO_FIT:"fit",STRETCH:"stretch",ORIGINAL_SIZE:"original_size",TILE:"tile",TILE_HORIZONTAL:"tile_horizontal",TILE_VERTICAL:"tile_vertical",FIT_AND_TILE:"fit_and_tile",LEGACY_STRIP_TILE:"legacy_strip_tile",LEGACY_STRIP_TILE_HORIZONTAL:"legacy_strip_tile_horizontal",LEGACY_STRIP_TILE_VERTICAL:"legacy_strip_tile_vertical",LEGACY_STRIP_SCALE_TO_FILL:"legacy_strip_fill",LEGACY_STRIP_SCALE_TO_FIT:"legacy_strip_fit",LEGACY_STRIP_FIT_AND_TILE:"legacy_strip_fit_and_tile",LEGACY_STRIP_ORIGINAL_SIZE:"legacy_strip_original_size",LEGACY_ORIGINAL_SIZE:"actual_size",LEGACY_FIT_WIDTH:"fitWidth",LEGACY_FIT_HEIGHT:"fitHeight",LEGACY_FULL:"full",LEGACY_BG_FIT_AND_TILE:"legacy_tile",LEGACY_BG_FIT_AND_TILE_HORIZONTAL:"legacy_tile_horizontal",LEGACY_BG_FIT_AND_TILE_VERTICAL:"legacy_tile_vertical",LEGACY_BG_NORMAL:"legacy_normal"},htmlTag:{BG:"bg",IMG:"img",SVG:"svg"},upscaleMethods:{AUTO:"auto",CLASSIC:"classic",SUPER:"super"},upscaleMethodsValues:{classic:1,super:2},defaultUSM:{radius:.66,amount:1,threshold:.01},emptyData:{uri:"",css:{img:{},container:{}},attr:{img:{},container:{}}},imageQuality:{HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW",TINY:"TINY"},imageFilters:{CONTRAST:"contrast",BRIGHTNESS:"brightness",SATURATION:"saturation",HUE:"hue",BLUR:"blur"},imageScaleDefaults:{HIGH:{size:196e4,quality:90,maxUpscale:1},MEDIUM:{size:36e4,quality:85,maxUpscale:1},LOW:{size:16e4,quality:80,maxUpscale:1.2},TINY:{size:0,quality:80,maxUpscale:1.4}},fileType:i,supportedExtensions:r,webp:{LOSSLESS:"lossless",LOSSY:"lossy",ALPHA:"alpha",ANIMATION:"animation"},SAFE_TRANSFORMED_AREA:25e6,SUPER_UPSCALE_MODELS:[1.5,2,4],MAX_DEVICE_PIXEL_RATIO:2,API_VERSION:"v1"}},function(t,e,a){"use strict";var i=a(2),r=a(0),s=a(4);function o(t){var e=new window.Image;e.onload=function(){var a=s.getFeature("isWEBP");a[t]=e.width>0&&e.height>0,s.setFeature("isWEBP",a)},e.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t]}function n(t){var e=[r.fileType.PNG,r.fileType.JPEG,r.fileType.JPG,r.fileType.WIX_ICO_MP,r.fileType.WIX_MP];return i.includes(e,h(t))}function l(t){return i.includes(["webp"],h(t))}function u(t){return/(^https?)|(^data)|(^\/\/)/.test(t)}function h(t){return(/[.]([^.]+)$/.exec(t)&&/[.]([^.]+)$/.exec(t)[1]||"").toLowerCase()}function m(t,e,a,i,s){return s===r.transformTypes.FILL?function(t,e,a,i){return Math.max(a/t,i/e)}(t,e,a,i):s===r.transformTypes.FIT?function(t,e,a,i){return Math.min(a/t,i/e)}(t,e,a,i):1}function c(t,e){var a=g(t,e);return{optimizedScaleFactor:r.imageScaleDefaults[a].maxUpscale,upscaleMethodValue:r.upscaleMethodsValues.classic,forceUSM:!1}}function p(t,e){var a=g(t,e);return{optimizedScaleFactor:r.imageScaleDefaults[a].maxUpscale,upscaleMethodValue:r.upscaleMethodsValues.classic,forceUSM:!1}}function d(t,e,a){return{optimizedScaleFactor:i.last(r.SUPER_UPSCALE_MODELS),upscaleMethodValue:r.upscaleMethodsValues.super,forceUSM:!(r.SUPER_UPSCALE_MODELS.includes(a)||a>i.last(r.SUPER_UPSCALE_MODELS))}}function g(t,e){var a=t*e;return a>r.imageScaleDefaults[r.imageQuality.HIGH].size?r.imageQuality.HIGH:a>r.imageScaleDefaults[r.imageQuality.MEDIUM].size?r.imageQuality.MEDIUM:a>r.imageScaleDefaults[r.imageQuality.LOW].size?r.imageQuality.LOW:r.imageQuality.TINY}function y(t,e){var a=Math.pow(10,e||0);return(t*a/a).toFixed(parseInt(e,10))}t.exports={populateGlobalFeatureSupport:function(){"undefined"!=typeof window&&(o(r.webp.LOSSY),o(r.webp.LOSSLESS),o(r.webp.ALPHA),o(r.webp.ANIMATION),s.setFeature("isObjectFitBrowser","objectFit"in window.document.documentElement.style))},isWEBPBrowserSupport:function(t){var e=s.getFeature("isWEBP"),a=t===r.fileType.JPG&&e[r.webp.LOSSY],i=t===r.fileType.PNG&&e[r.webp.LOSSLESS],o=t===r.fileType.PNG&&e[r.webp.ALPHA];return a||i&&o},isObjectFitBrowserSupport:function(){return s.getFeature("isObjectFitBrowser")},isImageTransformApplicable:function(t){return n(t)&&!u(t)},isValidRequest:function(t,e,a){return a&&e&&!(!(s=e.id)||!s.trim()||"none"===s.toLowerCase())&&i.includes(r.fittingTypes,t);var s},isImageTypeSupported:n,isExternalUrl:u,isWEBP:l,getFileType:function(t){return function(t){return i.includes(["jpg","jpeg"],h(t))}(t)?r.fileType.JPG:function(t){return i.includes(["png"],h(t))}(t)?r.fileType.PNG:l(t)?r.fileType.WEBP:r.fileType.UNRECOGNIZED},getFileExtension:h,getFileName:function(t,e){var a=/\.([^.]*)$/;if("string"==typeof e&&e.length){var s=["/","\\","?","<",">","|","\u201c",":",'"'].map(encodeURIComponent),o=new RegExp("("+s.concat(["\\.","\\*"]).join("|")+")","g"),n=e,l=e.match(a);return l&&i.includes(r.supportedExtensions,l[1])&&(n=e.replace(a,"")),encodeURIComponent(n).replace(o,"_")}var u=t.match(/\/(.*?)$/);return(u?u[1]:t).replace(a,"")},getAlignedRect:function(t,e,a){var i=void 0,s=void 0;switch(a){case r.alignTypes.CENTER:i=Math.max(0,(t.width-e.width)/2),s=Math.max(0,(t.height-e.height)/2);break;case r.alignTypes.TOP:i=Math.max(0,(t.width-e.width)/2),s=0;break;case r.alignTypes.TOP_LEFT:i=0,s=0;break;case r.alignTypes.TOP_RIGHT:i=Math.max(0,t.width-e.width),s=0;break;case r.alignTypes.BOTTOM:i=Math.max(0,(t.width-e.width)/2),s=Math.max(0,t.height-e.height);break;case r.alignTypes.BOTTOM_LEFT:i=0,s=Math.max(0,t.height-e.height);break;case r.alignTypes.BOTTOM_RIGHT:i=Math.max(0,t.width-e.width),s=Math.max(0,t.height-e.height);break;case r.alignTypes.LEFT:i=0,s=Math.max(0,(t.height-e.height)/2);break;case r.alignTypes.RIGHT:i=Math.max(0,t.width-e.width),s=Math.max(0,(t.height-e.height)/2)}return{x:t.x?t.x+i:i,y:t.y?t.y+s:s,width:Math.min(t.width,e.width),height:Math.min(t.height,e.height)}},getOverlappingRect:function(t,e){var a=Math.max(0,Math.min(t.width,e.x+e.width)-Math.max(0,e.x)),i=Math.max(0,Math.min(t.height,e.y+e.height)-Math.max(0,e.y));return a&&i&&(t.width!==a||t.height!==i)?{x:Math.max(0,e.x),y:Math.max(0,e.y),width:a,height:i}:null},getScaleFactor:m,getTransformData:function(t,e,a,i,s){t=t||a.width,e=e||a.height;var o=function(t){return Math.min(t.pixelAspectRatio||1,r.MAX_DEVICE_PIXEL_RATIO)}(a),n=function(t,e,a,i,s){var o=void 0,n=void 0,l=void 0;if(o=m(t,e,a,i,s),s===r.transformTypes.FILL?(n=a,l=i):s===r.transformTypes.FIT&&(n=t*o,l=e*o),n*l>r.SAFE_TRANSFORMED_AREA){var u=Math.sqrt(r.SAFE_TRANSFORMED_AREA/(n*l));o=m(t,e,n*=u,l*=u,s)}return{scaleFactor:o,width:n,height:l}}(t,e,a.width*o,a.height*o,i),l=n.scaleFactor;return function(t,e,a,i,s,o,n){var l=function(t,e,a,i){return{classic:c,auto:p,super:d}[i](t,e,a)}(t,e,o,s),u=l.optimizedScaleFactor,h=l.upscaleMethodValue,m=l.forceUSM;if(o<=u)return{width:a,height:i,scaleFactor:o,upscaleMethodValue:h,forceUSM:m,cssUpscaleNeeded:!1};var g=void 0,y=void 0;switch(n){case r.transformTypes.FILL:g=a*(u/o),y=i*(u/o);break;case r.transformTypes.FIT:g=t*u,y=e*u}return{width:g,height:y,scaleFactor:u,upscaleMethodValue:h,forceUSM:m,cssUpscaleNeeded:!0}}(t,e,n.width,n.height,s,l,i)},getAlignment:function(t){return r.alignTypesMap[t.alignment]||r.alignTypesMap[r.alignTypes.CENTER]},getPreferredImageQuality:function(t,e){return r.imageScaleDefaults[g(t,e)].quality},getDimension:function(t,e,a,i,r){var s=m(t,e,a,i,r);return{width:Math.round(t*s),height:Math.round(e*s)}},getFocalPoint:function(t){var e=null;return"number"!=typeof t.x||isNaN(t.x)||"number"!=typeof t.y||isNaN(t.y)||(e={x:y(Math.max(0,Math.min(100,t.x))/100,2),y:y(Math.max(0,Math.min(100,t.y))/100,2)}),e},getUpscaleString:function(t){return t&&t.upscaleMethod&&"string"==typeof t.upscaleMethod&&r.upscaleMethods[t.upscaleMethod.toUpperCase()]||r.upscaleMethods.AUTO},roundToFixed:y}},function(t,e,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={assign:function(){for(var t=arguments[0]||{},e=Array.prototype.slice.call(arguments,1,arguments.length),a=0;a<e.length;a++){var i=e[a];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},includes:function(t,e){return t.indexOf?t.indexOf(e)>-1:!(!t||"object"!==(void 0===t?"undefined":i(t)))&&Object.keys(t).some((function(a){return t[a]===e}))},last:function(t){return t[t.length-1]},template:function(t){return function(e){var a=t;for(var i in e)e.hasOwnProperty(i)&&(a=a.replace(new RegExp("\\${"+i+"}","g"),e[i]));return a}}}},function(t,e,a){"use strict";var i=a(1),r=a(5),s=a(6);t.exports=function(t,e,a,o){var n=i.getFileType(e.id),l={fileName:i.getFileName(e.id,e.name),fileExtension:i.getFileExtension(e.id),fileType:n,isWEBPSupport:i.isWEBPBrowserSupport(n),fittingType:t,src:{id:e.id,width:e.width,height:e.height,isCropped:!1},focalPoint:{x:e.focalPoint&&e.focalPoint.x,y:e.focalPoint&&e.focalPoint.y},parts:[],quality:0,upscaleMethod:i.getUpscaleString(o),progressive:!0,watermark:"",unsharpMask:{},filters:{}};return i.isImageTransformApplicable(e.id)&&(r.setTransformParts(l,e,a),s.setTransformOptions(l,o)),l}},function(t,e,a){"use strict";var i={isWEBP:{lossless:!1,lossy:!1,alpha:!1,animation:!1},isObjectFitBrowser:!0};t.exports={getFeature:function(t){return i[t]},setFeature:function(t,e){i[t]=e}}},function(t,e,a){"use strict";var i=a(2),r=a(0),s=a(1);function o(t,e){var a=s.getTransformData(t.src.width,t.src.height,e,r.transformTypes.FIT,t.upscaleMethod);return{transformType:r.transformTypes.FILL,width:Math.round(a.width),height:Math.round(a.height),alignment:r.alignTypesMap.center,upscale:a.scaleFactor>1,forceUSM:a.forceUSM,scaleFactor:a.scaleFactor,cssUpscaleNeeded:a.cssUpscaleNeeded,upscaleMethodValue:a.upscaleMethodValue}}function n(t){return{transformType:r.transformTypes.CROP,x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}t.exports={setTransformParts:function(t,e,a){var l=void 0;switch(e.crop&&(l=s.getOverlappingRect(e,e.crop))&&(t.src.width=l.width,t.src.height=l.height,t.src.cropped=!0,t.parts.push(n(l))),t.fittingType){case r.fittingTypes.SCALE_TO_FIT:case r.fittingTypes.LEGACY_FIT_WIDTH:case r.fittingTypes.LEGACY_FIT_HEIGHT:case r.fittingTypes.LEGACY_FULL:case r.fittingTypes.FIT_AND_TILE:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case r.fittingTypes.LEGACY_BG_NORMAL:t.parts.push(o(t,a));break;case r.fittingTypes.SCALE_TO_FILL:t.parts.push(function(t,e){var a=s.getTransformData(t.src.width,t.src.height,e,r.transformTypes.FILL,t.upscaleMethod),i=s.getFocalPoint(t.focalPoint);return{transformType:i?r.transformTypes.FILL_FOCAL:r.transformTypes.FILL,width:Math.round(a.width),height:Math.round(a.height),alignment:s.getAlignment(e),focalPointX:i&&i.x,focalPointY:i&&i.y,upscale:a.scaleFactor>1,forceUSM:a.forceUSM,scaleFactor:a.scaleFactor,cssUpscaleNeeded:a.cssUpscaleNeeded,upscaleMethodValue:a.upscaleMethodValue}}(t,a));break;case r.fittingTypes.STRETCH:t.parts.push(function(t,e){var a=s.getScaleFactor(t.src.width,t.src.height,e.width,e.height,r.transformTypes.FILL),n=i.assign({},e);return n.width=t.src.width*a,n.height=t.src.height*a,o(t,n)}(t,a));break;case r.fittingTypes.TILE_HORIZONTAL:case r.fittingTypes.TILE_VERTICAL:case r.fittingTypes.TILE:case r.fittingTypes.LEGACY_ORIGINAL_SIZE:case r.fittingTypes.ORIGINAL_SIZE:l=s.getAlignedRect(t.src,a,a.alignment),t.src.isCropped?(i.assign(t.parts[0],l),t.src.width=l.width,t.src.height=l.height):t.parts.push(n(l));break;case r.fittingTypes.LEGACY_STRIP_TILE_HORIZONTAL:case r.fittingTypes.LEGACY_STRIP_TILE_VERTICAL:case r.fittingTypes.LEGACY_STRIP_TILE:case r.fittingTypes.LEGACY_STRIP_ORIGINAL_SIZE:t.parts.push(function(t){return{transformType:r.transformTypes.LEGACY_CROP,width:Math.round(t.width),height:Math.round(t.height),alignment:s.getAlignment(t),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}(a));break;case r.fittingTypes.LEGACY_STRIP_SCALE_TO_FIT:case r.fittingTypes.LEGACY_STRIP_FIT_AND_TILE:t.parts.push(function(t){return{transformType:r.transformTypes.FIT,width:Math.round(t.width),height:Math.round(t.height),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(a));break;case r.fittingTypes.LEGACY_STRIP_SCALE_TO_FILL:t.parts.push(function(t){return{transformType:r.transformTypes.LEGACY_FILL,width:Math.round(t.width),height:Math.round(t.height),alignment:s.getAlignment(t),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(a))}}}},function(t,e,a){"use strict";var i=a(2),r=a(0),s=a(1);function o(t,e,a){return!isNaN(t)&&"number"==typeof t&&0!==t&&t>=e&&t<=a}t.exports={setTransformOptions:function(t,e){e=e||{},t.quality=function(t,e){var a=i.last(t.parts),r=s.getPreferredImageQuality(a.width,a.height),o=e.quality&&e.quality>=5&&e.quality<=90?e.quality:r;return parseInt(o,10)}(t,e),t.progressive=function(t){return!1!==t.progressive}(e),t.watermark=function(t){return t.watermark}(e),t.unsharpMask=function(t,e){var a=void 0;return function(t){t=t||{};var e=!isNaN(t.radius)&&"number"==typeof t.radius&&t.radius>=.1&&t.radius<=500,a=!isNaN(t.amount)&&"number"==typeof t.amount&&t.amount>=0&&t.amount<=10,i=!isNaN(t.threshold)&&"number"==typeof t.threshold&&t.threshold>=0&&t.threshold<=255;return e&&a&&i}(e.unsharpMask)?a={radius:e.unsharpMask.radius,amount:e.unsharpMask.amount,threshold:e.unsharpMask.threshold}:function(t){return t=t||{},!isNaN(t.radius)&&"number"==typeof t.radius&&0===t.radius&&!isNaN(t.amount)&&"number"==typeof t.amount&&0===t.amount&&!isNaN(t.threshold)&&"number"==typeof t.threshold&&0===t.threshold}(e.unsharpMask)||function(t){var e=i.last(t.parts);return!(e.scaleFactor>=1)||e.forceUSM}(t)&&(a=r.defaultUSM),a&&(a.radius=s.roundToFixed(a.radius,2),a.amount=s.roundToFixed(a.amount,2),a.threshold=s.roundToFixed(a.threshold,2)),a}(t,e),t.filters=function(t){var e=t.filters||{},a={};return o(e[r.imageFilters.CONTRAST],-100,100)&&(a[r.imageFilters.CONTRAST]=e[r.imageFilters.CONTRAST]),o(e[r.imageFilters.BRIGHTNESS],-100,100)&&(a[r.imageFilters.BRIGHTNESS]=e[r.imageFilters.BRIGHTNESS]),o(e[r.imageFilters.SATURATION],-100,100)&&(a[r.imageFilters.SATURATION]=e[r.imageFilters.SATURATION]),o(e[r.imageFilters.HUE],-180,180)&&(a[r.imageFilters.HUE]=e[r.imageFilters.HUE]),o(e[r.imageFilters.BLUR],0,100)&&(a[r.imageFilters.BLUR]=e[r.imageFilters.BLUR]),a}(e)}}},function(t,e,a){"use strict";var i=a(0),r=a(1),s=a(8),o=a(3);t.exports=function(t,e,a,n,l){var u=i.emptyData.uri;return r.isImageTransformApplicable(e.id)?(l=l||o(t,e,a,n,l),u=s.getImageURI(l)):u=e.id,u}},function(t,e,a){"use strict";var i,r=a(2),s=a(0),o=r.template("fit/w_${width},h_${height}"),n=r.template("fill/w_${width},h_${height},al_${alignment}"),l=r.template("fill/w_${width},h_${height},fp_${focalPointX}_${focalPointY}"),u=r.template("crop/x_${x},y_${y},w_${width},h_${height}"),h=r.template("crop/w_${width},h_${height},al_${alignment}"),m=r.template("fill/w_${width},h_${height},al_${alignment}"),c=r.template(",lg_${upscaleMethodValue}"),p=r.template(",q_${quality}"),d=r.template(",usm_${radius}_${amount}_${threshold}"),g=r.template(",bl"),y=r.template(",wm_${watermark}"),_=((i={})[s.imageFilters.CONTRAST]=r.template(",con_${contrast}"),i[s.imageFilters.BRIGHTNESS]=r.template(",br_${brightness}"),i[s.imageFilters.SATURATION]=r.template(",sat_${saturation}"),i[s.imageFilters.HUE]=r.template(",hue_${hue}"),i[s.imageFilters.BLUR]=r.template(",blur_${blur}"),i);t.exports={getImageURI:function(t){var e=[];t.parts.forEach((function(t){switch(t.transformType){case s.transformTypes.CROP:e.push(u(t));break;case s.transformTypes.LEGACY_CROP:e.push(h(t));break;case s.transformTypes.LEGACY_FILL:var a=m(t);t.upscale&&(a+=c(t)),e.push(a);break;case s.transformTypes.FIT:var i=o(t);t.upscale&&(i+=c(t)),e.push(i);break;case s.transformTypes.FILL:var r=n(t);t.upscale&&(r+=c(t)),e.push(r);break;case s.transformTypes.FILL_FOCAL:var p=l(t);t.upscale&&(p+=c(t)),e.push(p)}}));var a=e.join("/");return(t.fileType===s.fileType.PNG&&t.isWEBPSupport||t.fileType===s.fileType.JPG)&&(a+=p(t)),t.unsharpMask&&(a+=d(t.unsharpMask)),t.progressive||(a+=g(t)),t.watermark&&(a+=y(t)),t.filters&&(a+=Object.keys(t.filters).map((function(e){return _[e](t.filters)})).join("")),t.src.id+"/"+s.API_VERSION+"/"+a+"/"+t.fileName+"."+(t.isWEBPSupport?"webp":t.fileExtension)}}},,,,,,,function(t,e,a){"use strict";var i=a(16),r=a(0);i.populateGlobalFeatureSupport();var s="https://static.wixstatic.com/",o="https://static.wixstatic.com/media/",n=/^media\//i,l="undefined"!=typeof window?window.devicePixelRatio:1;function u(t){return n.test(t)?""+s+t:""+o+t}t.exports={getScaleToFitImageURL:function(t,e,a,s,o,n){return u(i.getData(r.fittingTypes.SCALE_TO_FIT,{id:t,width:e,height:a,name:n&&n.name},{width:s,height:o,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:l},n).uri)},getScaleToFillImageURL:function(t,e,a,s,o,n){return u(i.getData(r.fittingTypes.SCALE_TO_FILL,{id:t,width:e,height:a,name:n&&n.name,focalPoint:{x:n&&n.focalPoint&&n.focalPoint.x,y:n&&n.focalPoint&&n.focalPoint.y}},{width:s,height:o,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:l},n).uri)},getCropImageURL:function(t,e,a,s,o,n,h,m,c,p){return u(i.getData(r.fittingTypes.SCALE_TO_FILL,{id:t,width:e,height:a,name:p&&p.name,crop:{x:s,y:o,width:n,height:h}},{width:m,height:c,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:l},p).uri)}}},function(t,e,a){"use strict";var i=a(0),r=a(1),s=a(7);t.exports={populateGlobalFeatureSupport:r.populateGlobalFeatureSupport,getData:function(t,e,a,o){var n=i.emptyData.uri;return r.isValidRequest(t,e,a)&&(n=s(t,e,a,o)),{uri:n}},fittingTypes:i.fittingTypes,alignTypes:i.alignTypes,htmlTag:i.htmlTag,upscaleMethods:i.upscaleMethods}}])}}]);
//# sourceMappingURL=884.chunk.min.js.map